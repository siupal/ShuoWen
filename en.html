<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>è¯æ ¹è¯ç¼€ Â· åœºæ™¯åº”ç”¨ï½œè‹±è¯­å•è¯è®°å¿†ï¼ˆGRE/TOEFL/IELTSï¼‰</title>
<meta name="description" content="åŸºäºè¯æ ¹è¯ç¼€ä¸åœºæ™¯åº”ç”¨çš„è‹±è¯­å•è¯è®°å¿†å·¥å…·ï¼Œæ”¯æŒå½¢è¿‘è¯æ£€ç´¢ã€å¤šç»´æ£€ç´¢ã€SRS å¤ä¹ ï¼Œè¦†ç›– GRE/æ‰˜ç¦/é›…æ€æ°´å‡†ã€‚">
<style>
:root{
  --bg:#f8fafc;
  --fg:#0f172a;
  --muted:#64748b;
  --card:#ffffff;
  --border:#e2e8f0;
  --primary:#2563eb;
  --accent:#0ea5e9;
  --chip:#eef2ff;
  --chip-fg:#4338ca;
  --good:#16a34a;
  --warn:#d97706;
  --bad:#dc2626;
  --shadow:0 6px 24px rgba(2,6,23,0.08);
}
.dark{
  --bg:#0b1020;
  --fg:#e6edf3;
  --muted:#93a4b5;
  --card:#0f172a;
  --border:#1f2937;
  --primary:#60a5fa;
  --accent:#22d3ee;
  --chip:#1e293b;
  --chip-fg:#c7d2fe;
  --shadow:0 8px 28px rgba(0,0,0,0.5);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans","Helvetica Neue",Arial,"Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg); color:var(--fg);
}
a{color:var(--primary);text-decoration:none}
header{
  position:sticky; top:0; z-index:10;
  background:linear-gradient(180deg,var(--bg),rgba(0,0,0,0));
  backdrop-filter:saturate(1.2) blur(6px);
  padding:10px 14px; border-bottom:1px solid var(--border);
}
.header-inner{display:flex; align-items:center; gap:12px; max-width:1400px; margin:0 auto}
.brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px}
.brand .logo{width:28px; height:28px; border-radius:8px; background:linear-gradient(135deg,var(--primary),var(--accent)); box-shadow:var(--shadow)}
.brand small{color:var(--muted); font-weight:600}
.searchbar{flex:1; display:flex; align-items:center; gap:8px; background:var(--card); border:1px solid var(--border); padding:8px 10px; border-radius:10px; box-shadow:var(--shadow)}
.searchbar input{flex:1; border:0; outline:none; background:transparent; color:var(--fg); font-size:14px}
.btn{border:1px solid var(--border); background:var(--card); color:var(--fg); padding:8px 12px; border-radius:10px; cursor:pointer}
.btn:hover{border-color:var(--primary)}
.btn.primary{background:linear-gradient(135deg,var(--primary),var(--accent)); color:#fff; border-color:transparent}
.btn.ghost{background:transparent}
.badge{display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; background:var(--chip); color:var(--chip-fg); font-weight:600; font-size:12px}
main{max-width:1400px; margin:14px auto; display:grid; grid-template-columns:280px 1fr 360px; gap:14px; padding:0 14px}
@media (max-width:1100px){main{grid-template-columns:260px 1fr}}
@media (max-width:980px){main{grid-template-columns:1fr;}}
.card{
  background:var(--card); border:1px solid var(--border); border-radius:14px; box-shadow:var(--shadow)
}
.sidebar{padding:12px}
.section-title{display:flex; align-items:center; justify-content:space-between; margin:6px 0 12px}
.section-title h3{margin:0; font-size:15px}
.filters{display:grid; gap:14px}
.chips{display:flex; flex-wrap:wrap; gap:8px}
.chip{padding:6px 10px; border:1px solid var(--border); border-radius:999px; cursor:pointer; user-select:none}
.chip.active{border-color:var(--primary); box-shadow:inset 0 0 0 1px var(--primary)}
hr.sep{border:0; border-top:1px dashed var(--border); margin:4px 0}
small.help{color:var(--muted)}
.input{display:flex; align-items:center; gap:8px; background:var(--bg); border:1px dashed var(--border); padding:8px; border-radius:8px}
.input input, .input select{flex:1; background:transparent; border:0; outline:0; color:var(--fg)}
.results{padding:6px 10px 16px}
.stats{display:flex; flex-wrap:wrap; gap:10px; align-items:center; padding:10px}
.grid{display:grid; grid-template-columns:repeat(2, minmax(220px, 1fr)); gap:10px}
@media (max-width:980px){.grid{grid-template-columns:1fr}}
.word-card{
  padding:12px; border:1px solid var(--border); border-radius:12px; cursor:pointer; transition:transform .06s ease;
}
.word-card:hover{transform:translateY(-2px)}
.word-head{display:flex; align-items:center; justify-content:space-between; gap:10px}
.word{font-weight:800; font-size:18px; letter-spacing:.2px}
.tags{display:flex; flex-wrap:wrap; gap:6px; align-items:center}
.mean{color:var(--muted); margin-top:4px}
.morph{display:flex; flex-wrap:wrap; gap:6px; margin-top:10px}
.morph span{padding:2px 6px; border-radius:6px; font-size:12px; border:1px solid var(--border)}
.morph .pre{background:#e0f2fe; color:#0c4a6e; border-color:transparent}
.morph .root{background:#fef9c3; color:#713f12; border-color:transparent}
.morph .suf{background:#fce7f3; color:#831843; border-color:transparent}
.detail{padding:12px}
.detail .title{display:flex; align-items:center; justify-content:space-between; gap:10px}
.detail .title h2{margin:0}
.detail .actions{display:flex; gap:8px; flex-wrap:wrap}
.detail section{margin-top:12px}
.detail .def{font-size:15px}
.detail .ex{color:var(--muted)}
.flex{display:flex; gap:10px; flex-wrap:wrap}
.kv{display:grid; grid-template-columns:100px 1fr; gap:8px; align-items:flex-start}
ul.clean{list-style:none; padding:0; margin:0}
ul.clean li{padding:4px 0}
.pill{display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; border:1px solid var(--border)}
.hlt{padding:0 3px; border-radius:4px; background:linear-gradient(180deg,#fff799, #ffe78f)}
.hlt-pre{padding:0 3px; border-radius:4px; background:linear-gradient(180deg,#bde9ff,#9ae6ff)}
.hlt-suf{padding:0 3px; border-radius:4px; background:linear-gradient(180deg,#ffd6ef,#ffbfe7)}
.sim-list, .family-list{display:flex; flex-wrap:wrap; gap:6px}
.sim-item, .fam-item{padding:6px 10px; border:1px solid var(--border); border-radius:999px; cursor:pointer}
.footer-tools{position:sticky; bottom:0; padding:10px; display:flex; gap:8px; flex-wrap:wrap; background:linear-gradient(0deg,var(--bg),rgba(0,0,0,0)); border-top:1px dashed var(--border)}
.srs{position:fixed; right:20px; bottom:20px; z-index:100; display:flex; gap:8px; flex-wrap:wrap}
.srs .card{padding:14px; width:360px; max-width:90vw}
.srs .q{font-weight:700; font-size:18px}
.srs .btns{display:flex; gap:8px; margin-top:8px}
.srs .btn.again{background:var(--bad); color:#fff}
.srs .btn.hard{background:var(--warn); color:#fff}
.srs .btn.good{background:var(--good); color:#fff}
.srs .btn.easy{background:var(--primary); color:#fff}
small.dim{color:var(--muted)}
</style>
</head>
<body>
<header>
  <div class="header-inner">
    <div class="brand">
      <div class="logo"></div>
      <div>
        è¯æ ¹è¯ç¼€ Â· åœºæ™¯åº”ç”¨
        <small>GRE / TOEFL / IELTS</small>
      </div>
    </div>
    <div class="searchbar">
      <span>ğŸ”</span>
      <input id="q" placeholder="æœç´¢ï¼šå•è¯ / ä¸­æ–‡é‡Šä¹‰ / è‹±æ–‡é‡Šä¹‰ / è¯æ ¹ / å‰ç¼€ / åç¼€ / åŒä¹‰è¯ï¼ˆæ”¯æŒæ¨¡ç³Šï¼‰" />
      <button class="btn" id="clearBtn" title="æ¸…ç©º">æ¸…ç©º</button>
    </div>
    <div class="actions">
      <button class="btn" id="darkBtn" title="æš—é»‘æ¨¡å¼">ğŸŒ™/â˜€ï¸</button>
      <button class="btn" id="importBtn" title="å¯¼å…¥è¯åº“(JSON)">å¯¼å…¥</button>
      <button class="btn" id="exportBtn" title="å¯¼å‡ºå½“å‰è¯åº“(JSON)">å¯¼å‡º</button>
      <input type="file" id="fileInput" accept=".json" style="display:none">
    </div>
  </div>
</header>

<main>
  <!-- Sidebar filters -->
  <aside class="card sidebar" id="sidebar">
    <div class="section-title">
      <h3>ç­›é€‰</h3>
      <span class="badge">å¤šç»´æ£€ç´¢</span>
    </div>
    <div class="filters">
      <div>
        <small class="help">è€ƒè¯•çº§åˆ«</small>
        <div class="chips" id="levelChips"></div>
      </div>
      <div>
        <small class="help">è¯æ€§</small>
        <div class="chips" id="posChips"></div>
      </div>
      <div>
        <small class="help">ä¸»é¢˜</small>
        <div class="chips" id="topicChips"></div>
      </div>
      <hr class="sep">
      <div>
        <small class="help">è¯æ ¹ / å‰ç¼€ / åç¼€</small>
        <div class="input"><input id="morphSearch" placeholder="è¾“å…¥å¦‚ï¼šbene / mal / -ology / pre-"></div>
        <div class="chips" id="morphChips"></div>
        <div class="flex">
          <label class="pill"><input type="checkbox" id="requireAll"> åŒæ—¶åŒ…å«æ‰€é€‰å…¨éƒ¨å½¢æ€</label>
          <label class="pill"><input type="checkbox" id="onlyRoots"> ä»…åŒ¹é…è¯æ ¹</label>
        </div>
      </div>
      <hr class="sep">
      <div>
        <small class="help">é¢‘ç‡ï¼ˆ1-5ï¼Œè¶Šé«˜è¶Šå¸¸è§ï¼‰</small>
        <div class="input"><input type="range" id="freq" min="1" max="5" value="1"><span id="freqVal">â‰¥1</span></div>
      </div>
      <div class="flex">
        <button class="btn" id="resetBtn">é‡ç½®ç­›é€‰</button>
        <small class="help">æ”¯æŒç»„åˆç­›é€‰ + æœç´¢</small>
      </div>
    </div>
  </aside>

  <!-- Results -->
  <section class="card results">
    <div class="stats">
      <span class="badge">ç»“æœ <b id="count"></b> / <span id="total"></span></span>
      <span class="pill">å½¢è¿‘è¯ï¼šç¼–è¾‘è·ç¦»</span>
      <span class="pill">TTSï¼šç‚¹å‡»å•è¯å³ä¾§ğŸ”Š</span>
      <span class="pill">SRSï¼šå³ä¸‹è§’å¼€å§‹å¤ä¹ </span>
    </div>
    <div class="grid" id="grid"></div>
    <div class="footer-tools">
      <button class="btn primary" id="startSrsBtn">ç”¨å½“å‰ç»“æœå¼€å§‹å¤ä¹ </button>
      <button class="btn" id="genSceneBtn">ç”¨æ‰€é€‰è¯ç”Ÿæˆåœºæ™¯å¥</button>
      <small class="help">æç¤ºï¼šåŒå‡»å•è¯åŠ å…¥å¤ä¹ æ¸…å•ï¼›ç‚¹å‡»è¯æ ¹èŠ¯ç‰‡å¯åå‘æ£€ç´¢</small>
    </div>
  </section>

  <!-- Detail -->
  <aside class="card detail" id="detail">
    <div class="title">
      <div>
        <h2 id="dWord">é€‰æ‹©ä¸€ä¸ªå•è¯</h2>
        <div class="morph" id="dMorph"></div>
      </div>
      <div class="actions">
        <button class="btn" id="speakBtn" title="å‘éŸ³">ğŸ”Š å‘éŸ³</button>
        <button class="btn" id="starBtn" title="åŠ å…¥å¤ä¹ ">â­ æ”¶è—</button>
      </div>
    </div>
    <section>
      <div class="def" id="dDef"></div>
      <div class="mean" id="dMean"></div>
    </section>
    <section>
      <div class="kv">
        <div><small class="help">è¯æ€§</small></div><div id="dPos"></div>
        <div><small class="help">è€ƒè¯•</small></div><div id="dLevel"></div>
        <div><small class="help">ä¸»é¢˜</small></div><div id="dTopics"></div>
        <div><small class="help">é¢‘ç‡</small></div><div id="dFreq"></div>
      </div>
    </section>
    <section>
      <b>ä¾‹å¥</b>
      <ul class="clean" id="dExamples"></ul>
    </section>
    <section>
      <b>å½¢è¿‘è¯ï¼ˆè¾…åŠ©è®°å¿†ï¼‰</b>
      <div class="sim-list" id="dSimilar"></div>
    </section>
    <section>
      <b>åŒæ ¹è¯ / åŒå‰åç¼€</b>
      <div class="family-list" id="dFamily"></div>
    </section>
    <section>
      <b>è®°å¿†æç¤º</b>
      <div id="dNotes" class="mean"></div>
    </section>
  </aside>
</main>

<!-- SRS Review Panel -->
<div class="srs" id="srsPanel" style="display:none">
  <div class="card">
    <div class="q" id="srsQ">SRS å¤ä¹ </div>
    <div class="a" id="srsA" style="display:none; margin-top:8px"></div>
    <div class="btns">
      <button class="btn again" id="srsAgain">Again</button>
      <button class="btn hard" id="srsHard">Hard</button>
      <button class="btn good" id="srsGood">Good</button>
      <button class="btn easy" id="srsEasy">Easy</button>
      <button class="btn" id="srsShow">æ˜¾ç¤ºç­”æ¡ˆ</button>
      <button class="btn ghost" id="srsClose">å…³é—­</button>
    </div>
    <div style="margin-top:6px"><small class="dim" id="srsInfo"></small></div>
  </div>
</div>

<script>
/** ================================
 *  è¯æ ¹/è¯ç¼€è¯å…¸ï¼ˆç”¨äºè¯´æ˜ä¸ç´¢å¼•ï¼‰
 *  ================================ */
const MORPHEMES = {
  // prefixes
  "a":{type:"prefix", zh:"ä¸ï¼›æ— ï¼›å»", en:"not; without; to"},
  "ab":{type:"prefix", zh:"ç¦»å¼€", en:"away"},
  "ad":{type:"prefix", zh:"å‘ï¼›å»", en:"to; toward"},
  "ante":{type:"prefix", zh:"å‰", en:"before"},
  "anti":{type:"prefix", zh:"åï¼›æŠ—", en:"against"},
  "bene":{type:"root", zh:"å¥½ï¼›å–„", en:"good; well"},
  "bio":{type:"root", zh:"ç”Ÿå‘½", en:"life"},
  "card":{type:"root", zh:"å¿ƒ", en:"heart"},
  "circum":{type:"prefix", zh:"ç¯ç»•", en:"around"},
  "chrono":{type:"root", zh:"æ—¶é—´", en:"time"},
  "con":{type:"prefix", zh:"ä¸€èµ·ï¼›å…±åŒ", en:"together"},
  "contra":{type:"prefix", zh:"åå¯¹", en:"against"},
  "de":{type:"prefix", zh:"å‘ä¸‹ï¼›é™¤å»", en:"down; away"},
  "di":{type:"prefix", zh:"åˆ†ç¦»ï¼›ç¦»å¼€", en:"apart"},
  "dis":{type:"prefix", zh:"ä¸ï¼›åˆ†ç¦»", en:"not; apart"},
  "e":{type:"prefix", zh:"å‡ºï¼›å¤–", en:"out"},
  "ex":{type:"prefix", zh:"å‡ºï¼›å¤–", en:"out"},
  "equi":{type:"root", zh:"ç›¸ç­‰", en:"equal"},
  "eu":{type:"prefix", zh:"å¥½ï¼›ä¼˜", en:"good"},
  "geo":{type:"root", zh:"åœ°çƒï¼›åœŸåœ°", en:"earth"},
  "hyper":{type:"prefix", zh:"è¿‡åº¦ï¼›è¶…", en:"over; excessive"},
  "hypo":{type:"prefix", zh:"ä¸‹ï¼›ä¸è¶³", en:"under; below"},
  "il":{type:"prefix", zh:"ä¸ï¼›å‘å†…", en:"not; in"},
  "im":{type:"prefix", zh:"ä¸ï¼›å‘å†…", en:"not; in"},
  "in":{type:"prefix", zh:"ä¸ï¼›åœ¨å†…", en:"not; in"},
  "inter":{type:"prefix", zh:"åœ¨â€¦ä¹‹é—´", en:"between"},
  "intro":{type:"prefix", zh:"å‘å†…", en:"into"},
  "ir":{type:"prefix", zh:"ä¸ï¼›å‘å†…", en:"not; in"},
  "mal":{type:"root", zh:"åï¼›æ¶", en:"bad"},
  "mega":{type:"prefix", zh:"å¤§", en:"large"},
  "micro":{type:"prefix", zh:"å¾®", en:"small"},
  "mis":{type:"prefix", zh:"é”™ï¼›æ¶", en:"bad; wrong"},
  "meta":{type:"prefix", zh:"å˜ï¼›è¶…è¶Š", en:"change; beyond"},
  "mono":{type:"prefix", zh:"å•ä¸€", en:"one"},
  "multi":{type:"prefix", zh:"å¤š", en:"many"},
  "neo":{type:"prefix", zh:"æ–°", en:"new"},
  "omni":{type:"prefix", zh:"å…¨ï¼›æ€»", en:"all"},
  "peri":{type:"prefix", zh:"å‘¨å›´", en:"around"},
  "pre":{type:"prefix", zh:"å‰", en:"before"},
  "pro":{type:"prefix", zh:"å‰ï¼›å‘å‰", en:"forward"},
  "post":{type:"prefix", zh:"å", en:"after"},
  "re":{type:"prefix", zh:"å†ï¼›å›", en:"again; back"},
  "retro":{type:"prefix", zh:"å‘å", en:"backward"},
  "sub":{type:"prefix", zh:"ä¸‹ï¼›æ¬¡çº§", en:"under"},
  "super":{type:"prefix", zh:"ä¸Šï¼›è¶…", en:"over; above"},
  "tele":{type:"prefix", zh:"è¿œ", en:"far"},
  "trans":{type:"prefix", zh:"æ¨ªè¶Šï¼›è½¬å˜", en:"across; beyond"},
  // roots
  "anim":{type:"root", zh:"ç”Ÿå‘½ï¼›ç²¾ç¥", en:"life; spirit"},
  "anthrop":{type:"root", zh:"äºº", en:"human"},
  "aqua":{type:"root", zh:"æ°´", en:"water"},
  "aud":{type:"root", zh:"å¬", en:"hear"},
  "cap":{type:"root", zh:"æ‹¿ï¼›æŠ“", en:"take"},
  "cardi":{type:"root", zh:"å¿ƒ", en:"heart"},
  "cred":{type:"root", zh:"ä¿¡ä»»", en:"believe"},
  "chron":{type:"root", zh:"æ—¶é—´", en:"time"},
  "cid":{type:"root", zh:"åˆ‡ï¼›æ€", en:"cut; kill"},
  "cis":{type:"root", zh:"åˆ‡", en:"cut"},
  "dict":{type:"root", zh:"è¯´", en:"say"},
  "doc":{type:"root", zh:"æ•™", en:"teach"},
  "duc":{type:"root", zh:"å¼•å¯¼ï¼›å¸¦æ¥", en:"lead"},
  "duct":{type:"root", zh:"å¼•å¯¼ï¼›ç®¡é“", en:"lead"},
  "fac":{type:"root", zh:"åšï¼›ä½œ", en:"make"},
  "fact":{type:"root", zh:"åšï¼›äº‹å®", en:"make; do"},
  "fic":{type:"root", zh:"åšï¼›åˆ¶ä½œ", en:"make"},
  "fect":{type:"root", zh:"åšæˆï¼›æˆå°±", en:"make; do"},
  "gen":{type:"root", zh:"ç”Ÿï¼›äº§ç”Ÿ", en:"birth; kind"},
  "graph":{type:"root", zh:"å†™ï¼›ç”»", en:"write"},
  "gram":{type:"root", zh:"å†™ï¼›å›¾è¡¨", en:"write; drawing"},
  "gress":{type:"root", zh:"æ­¥ï¼›èµ°", en:"step; go"},
  "grad":{type:"root", zh:"æ­¥ï¼›çº§", en:"step"},
  "jur":{type:"root", zh:"èª“ï¼›æ³•", en:"oath; law"},
  "log":{type:"root", zh:"è¯´ï¼›å­¦ç§‘", en:"word; study"},
  "loqu":{type:"root", zh:"è¯´", en:"speak"},
  "magn":{type:"root", zh:"å¤§", en:"great"},
  "manu":{type:"root", zh:"æ‰‹", en:"hand"},
  "metr":{type:"root", zh:"æµ‹é‡", en:"measure"},
  "morph":{type:"root", zh:"å½¢", en:"form"},
  "mort":{type:"root", zh:"æ­»", en:"death"},
  "nat":{type:"root", zh:"ç”Ÿï¼›å‡ºç”Ÿ", en:"born"},
  "nov":{type:"root", zh:"æ–°", en:"new"},
  "path":{type:"root", zh:"æ„Ÿæƒ…ï¼›ç—…", en:"feeling; disease"},
  "phil":{type:"root", zh:"çˆ±å¥½", en:"love"},
  "phon":{type:"root", zh:"å£°éŸ³", en:"sound"},
  "photo":{type:"root", zh:"å…‰", en:"light"},
  "port":{type:"root", zh:"æºå¸¦ï¼›è¿", en:"carry"},
  "sci":{type:"root", zh:"çŸ¥é“", en:"know"},
  "scrib":{type:"root", zh:"å†™", en:"write"},
  "script":{type:"root", zh:"å†™", en:"write"},
  "scope":{type:"root", zh:"çœ‹ï¼›è§‚å¯Ÿ", en:"look"},
  "spect":{type:"root", zh:"çœ‹", en:"look"},
  "spic":{type:"root", zh:"çœ‹", en:"look"},
  "stat":{type:"root", zh:"ç«™ç«‹ï¼›çŠ¶æ€", en:"stand"},
  "tele(root)":{type:"root", zh:"è¿œ", en:"far"},
  "therm":{type:"root", zh:"çƒ­", en:"heat"},
  "tract":{type:"root", zh:"æ‹‰ï¼›æ‹–", en:"draw"},
  "ven":{type:"root", zh:"æ¥", en:"come"},
  "vent":{type:"root", zh:"æ¥", en:"come"},
  "ver":{type:"root", zh:"çœŸ", en:"true"},
  "vid":{type:"root", zh:"çœ‹è§", en:"see"},
  "vis":{type:"root", zh:"çœ‹", en:"see"},
  "vol":{type:"root", zh:"æ„æ„¿", en:"will"},
  "voc":{type:"root", zh:"å«ï¼›å£°", en:"call"},
  "vok":{type:"root", zh:"å«ï¼›å£°", en:"call"},
  // suffixes
  "al":{type:"suffix", zh:"å½¢å®¹è¯/åè¯åç¼€", en:"adj./n. suffix"},
  "ally":{type:"suffix", zh:"å‰¯è¯åç¼€", en:"adv. suffix"},
  "ance":{type:"suffix", zh:"åè¯åç¼€", en:"n. suffix"},
  "ant":{type:"suffix", zh:"å½¢å®¹è¯/åè¯åç¼€", en:"adj./n. suffix"},
  "ary":{type:"suffix", zh:"å½¢å®¹è¯/åè¯åç¼€", en:"adj./n. suffix"},
  "ate":{type:"suffix", zh:"åŠ¨è¯/å½¢å®¹è¯åç¼€", en:"v./adj. suffix"},
  "ent":{type:"suffix", zh:"å½¢å®¹è¯/åè¯åç¼€", en:"adj./n. suffix"},
  "ence":{type:"suffix", zh:"åè¯åç¼€", en:"n. suffix"},
  "hood":{type:"suffix", zh:"åè¯åç¼€", en:"n. suffix"},
  "ible":{type:"suffix", zh:"å½¢å®¹è¯åç¼€", en:"adj. suffix"},
  "ic":{type:"suffix", zh:"å½¢å®¹è¯åç¼€", en:"adj. suffix"},
  "ics":{type:"suffix", zh:"å­¦ç§‘åè¯åç¼€", en:"n. (field) suffix"},
  "ify":{type:"suffix", zh:"åŠ¨è¯åç¼€", en:"v. suffix"},
  "ion":{type:"suffix", zh:"åè¯åç¼€", en:"n. suffix"},
  "ish":{type:"suffix", zh:"å½¢å®¹è¯/åŠ¨è¯åç¼€", en:"adj./v. suffix"},
  "ism":{type:"suffix", zh:"åè¯åç¼€", en:"n. suffix"},
  "ist":{type:"suffix", zh:"äººï¼ˆâ€¦è€…ï¼‰", en:"person suffix"},
  "ity":{type:"suffix", zh:"åè¯åç¼€", en:"n. suffix"},
  "ive":{type:"suffix", zh:"å½¢å®¹è¯åç¼€", en:"adj. suffix"},
  "ize":{type:"suffix", zh:"åŠ¨è¯åç¼€", en:"v. suffix"},
  "logy":{type:"suffix", zh:"â€¦å­¦ï¼›å­¦ç§‘", en:"study of"},
  "meter":{type:"suffix", zh:"è®¡é‡å™¨", en:"measuring device"},
  "metry":{type:"suffix", zh:"æµ‹é‡æ³•", en:"measurement"},
  "ness":{type:"suffix", zh:"åè¯åç¼€", en:"n. suffix"},
  "ous":{type:"suffix", zh:"å½¢å®¹è¯åç¼€", en:"adj. suffix"},
  "phobia":{type:"suffix", zh:"ææƒ§ç—‡", en:"fear"}
};

/** ================================
 *  ç¤ºä¾‹è¯åº“ï¼ˆGRE/TOEFL/IELTS æ°´å‡†ï¼‰
 *  å­—æ®µï¼š
 *  word, pos, level[], frequency(1-5), definition_en, meaning_zh,
 *  examples[], roots:[{m: morpheme, t: 'prefix'|'root'|'suffix'}],
 *  topics[], syn[], ant[], notes
 *  ================================ */
const WORDS = [
  // bene/mal/dict/ver/vol/voc/vok/jur
  {word:"benevolent",pos:"adj.",level:["GRE","IELTS"],frequency:3,
    definition_en:"well-meaning and kindly",
    meaning_zh:"ä»æ…ˆçš„ï¼›å–„æ„çš„",
    examples:["A benevolent donor funded the scholarship."],
    roots:[{m:"bene",t:"root"},{m:"vol",t:"root"},{m:"ent",t:"suffix"}],
    topics:["morality","people"],syn:["kind","charitable"],ant:["malevolent"],notes:"bene(å¥½)+vol(æ„æ„¿)+-ent(å½¢) â†’ å¥½å¿ƒçš„"},
  {word:"malevolent",pos:"adj.",level:["GRE"],frequency:2,
    definition_en:"having or showing a wish to do evil to others",
    meaning_zh:"æ¶æ„çš„ï¼›æ€¨æ¨çš„",
    examples:["A malevolent glare silenced the room."],
    roots:[{m:"mal",t:"root"},{m:"vol",t:"root"},{m:"ent",t:"suffix"}],
    topics:["morality"],syn:["malicious","spiteful"],ant:["benevolent"],notes:"mal(å)+vol(æ„æ„¿) â†’ æ¶æ„çš„"},
  {word:"malediction",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"a curse; the utterance of a curse",
    meaning_zh:"è¯…å’’ï¼›å’’éª‚",
    examples:["She muttered a malediction under her breath."],
    roots:[{m:"mal",t:"root"},{m:"dict",t:"root"},{m:"ion",t:"suffix"}],
    topics:["emotion"],syn:["curse","imprecation"],ant:["benediction"],notes:"mal(å)+dict(è¯´) â†’ è¯´åè¯=å’’éª‚"},
  {word:"benediction",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"a blessing; an expression of good wishes",
    meaning_zh:"ç¥ç¦ï¼›ç¥ˆç¦",
    examples:["The ceremony ended with a benediction."],
    roots:[{m:"bene",t:"root"},{m:"dict",t:"root"},{m:"ion",t:"suffix"}],
    topics:["religion"],syn:["blessing"],ant:["malediction"],notes:"bene(å¥½)+dict(è¯´) â†’ è¯´å¥½è¯=ç¥ç¦"},
  {word:"verdict",pos:"n.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"a decision on a disputed issue in a civil or criminal case",
    meaning_zh:"åˆ¤å†³ï¼›è£å®š",
    examples:["The jury returned a guilty verdict."],
    roots:[{m:"ver",t:"root"},{m:"dict",t:"root"}],
    topics:["law"],syn:["judgment","decision"],ant:[],notes:"ver(çœŸ)+dict(è¯´) â†’ è¯´å‡ºçœŸç›¸=è£å†³"},
  {word:"jurisdiction",pos:"n.",level:["TOEFL","IELTS"],frequency:3,
    definition_en:"the official power to make legal decisions and judgments",
    meaning_zh:"å¸æ³•æƒï¼›ç®¡è¾–æƒ",
    examples:["This case falls outside our jurisdiction."],
    roots:[{m:"jur",t:"root"},{m:"dict",t:"root"},{m:"ion",t:"suffix"}],
    topics:["law"],syn:["authority","power"],ant:[],notes:"jur(æ³•)+dict(è¯´) â†’ å®£ç¤ºæ³•å¾‹=å¸æ³•æƒ"},
  {word:"abdicate",pos:"v.",level:["GRE"],frequency:2,
    definition_en:"to renounce a throne, right, or power",
    meaning_zh:"é€€ä½ï¼›æ”¾å¼ƒï¼ˆæƒåŠ›/è´£ä»»ï¼‰",
    examples:["The king decided to abdicate in favor of his son."],
    roots:[{m:"ab",t:"prefix"},{m:"dict",t:"root"},{m:"ate",t:"suffix"}],
    topics:["politics"],syn:["resign","relinquish"],ant:["assume"],notes:"ab(ç¦»å¼€)+dic(å®£å‘Š) â†’ å®£å¸ƒæ”¾å¼ƒ"},
  {word:"indict",pos:"v.",level:["GRE","TOEFL"],frequency:3,
    definition_en:"formally accuse of or charge with a serious crime",
    meaning_zh:"èµ·è¯‰ï¼›æ§å‘Š",
    examples:["He was indicted on multiple counts of fraud."],
    roots:[{m:"in",t:"prefix"},{m:"dict",t:"root"}],
    topics:["law"],syn:["charge","accuse"],ant:["exonerate"],notes:"in(å‘å†…)+dict(è¯´) â†’ æŒ‡æ§"},
  {word:"dedicate",pos:"v.",level:["IELTS","TOEFL"],frequency:4,
    definition_en:"to devote time or effort to a particular task or purpose",
    meaning_zh:"è‡´åŠ›ï¼›å¥‰çŒ®",
    examples:["She dedicated her life to education."],
    roots:[{m:"de",t:"prefix"},{m:"dic",t:"root"},{m:"ate",t:"suffix"}],
    topics:["people"],syn:["devote","commit"],ant:["abandon"],notes:"de(åŠ å¼º)+dic(å®£å‘Š) â†’ åº„ä¸¥å®£å¸ƒå¥‰çŒ®"},
  {word:"advocate",pos:"v./n.",level:["GRE","IELTS"],frequency:4,
    definition_en:"to publicly support; a person who publicly supports",
    meaning_zh:"æå€¡ï¼›æ‹¥æŠ¤è€…",
    examples:["They advocate for climate action."],
    roots:[{m:"ad",t:"prefix"},{m:"voc",t:"root"},{m:"ate",t:"suffix"}],
    topics:["society"],syn:["champion","support"],ant:["oppose"],notes:"ad(å‘)+voc(å‘¼å–Š) â†’ ä¸ºâ€¦å‘å£°"},
  {word:"equivocal",pos:"adj.",level:["GRE"],frequency:2,
    definition_en:"open to more than one interpretation; ambiguous",
    meaning_zh:"æ¨¡æ£±ä¸¤å¯çš„ï¼›å«ç³Šçš„",
    examples:["He gave an equivocal answer."],
    roots:[{m:"equi",t:"root"},{m:"voc",t:"root"},{m:"al",t:"suffix"}],
    topics:["logic"],syn:["ambiguous"],ant:["unequivocal","clear"],notes:"equi(ç›¸ç­‰)+voc(å£°éŸ³) â†’ ä¸¤è¾¹éƒ½è¯´å¾—é€š"},
  {word:"invoke",pos:"v.",level:["GRE","TOEFL"],frequency:3,
    definition_en:"to call on (a higher power); to cite as authority",
    meaning_zh:"è°ƒç”¨ï¼›æ´å¼•ï¼›ç¥ˆæ±‚",
    examples:["They invoked a constitutional right."],
    roots:[{m:"in",t:"prefix"},{m:"vok",t:"root"}],
    topics:["law","tech"],syn:["cite","appeal to"],ant:[],notes:"in(å‘å†…)+vok(å‘¼å”¤)"},
  {word:"revoke",pos:"v.",level:["GRE","TOEFL"],frequency:3,
    definition_en:"to officially cancel",
    meaning_zh:"æ’¤é”€ï¼›åºŸé™¤",
    examples:["The license was revoked."],
    roots:[{m:"re",t:"prefix"},{m:"vok",t:"root"}],
    topics:["law"],syn:["cancel","rescind"],ant:["grant"],notes:"re(å›)+vok(å‘¼å”¤) â†’ å«å›=æ’¤é”€"},
  {word:"provoke",pos:"v.",level:["IELTS","TOEFL"],frequency:4,
    definition_en:"to stimulate or incite; to anger",
    meaning_zh:"æ¿€èµ·ï¼›æ¿€æ€’",
    examples:["The article provoked a heated debate."],
    roots:[{m:"pro",t:"prefix"},{m:"vok",t:"root"}],
    topics:["society"],syn:["stir","incite"],ant:["soothe"],notes:"pro(å‘å‰)+vok(å‘¼å–Š)"},

  // scrib/script
  {word:"describe",pos:"v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to give an account of in words",
    meaning_zh:"æè¿°ï¼›æå†™",
    examples:["Describe your research methods."],
    roots:[{m:"de",t:"prefix"},{m:"scrib",t:"root"}],
    topics:["academic"],syn:["depict","portray"],ant:[],notes:"de(å‘ä¸‹)+scrib(å†™) â†’ å†™ä¸‹æ¥=æè¿°"},
  {word:"inscribe",pos:"v.",level:["GRE"],frequency:2,
    definition_en:"to write or carve on something, especially as a formal or permanent record",
    meaning_zh:"é¢˜å†™ï¼›é“­åˆ»",
    examples:["The ring was inscribed with a date."],
    roots:[{m:"in",t:"prefix"},{m:"scrib",t:"root"}],
    topics:["art"],syn:["engrave","etch"],ant:[],notes:"in(å†…)+scrib(å†™)"},
  {word:"prescribe",pos:"v.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"to recommend or lay down as a rule; to authorize use of medicine",
    meaning_zh:"è§„å®šï¼›å¼€å¤„æ–¹",
    examples:["Doctors prescribe antibiotics cautiously."],
    roots:[{m:"pre",t:"prefix"},{m:"scrib",t:"root"}],
    topics:["medicine"],syn:["stipulate","order"],ant:["proscribe"],notes:"pre(é¢„å…ˆ)+scrib(å†™)"},
  {word:"proscribe",pos:"v.",level:["GRE"],frequency:2,
    definition_en:"to forbid, especially by law",
    meaning_zh:"ç¦æ­¢ï¼›å–ç¼”",
    examples:["The policy proscribes discrimination."],
    roots:[{m:"pro",t:"prefix"},{m:"scrib",t:"root"}],
    topics:["law"],syn:["forbid","ban"],ant:["prescribe(è§„å®š)"],notes:"pro(å‘å‰/å…¬å¼€)+scrib(å†™) â†’ å…¬å¸ƒç¦æ­¢"},
  {word:"transcript",pos:"n.",level:["TOEFL"],frequency:4,
    definition_en:"a written or printed version of material originally presented in another medium; academic record",
    meaning_zh:"æ–‡å­—è®°å½•ï¼›æˆç»©å•",
    examples:["Please submit your academic transcript."],
    roots:[{m:"trans",t:"prefix"},{m:"script",t:"root"}],
    topics:["academic"],syn:["record"],ant:[],notes:"trans(è·¨è¶Š)+script(å†™)"},
  {word:"circumscribe",pos:"v.",level:["GRE"],frequency:2,
    definition_en:"to restrict within limits",
    meaning_zh:"é™åˆ¶ï¼›åˆ’ç•Œ",
    examples:["Freedom of speech was circumscribed."],
    roots:[{m:"circum",t:"prefix"},{m:"scrib",t:"root"}],
    topics:["law","politics"],syn:["limit","confine"],ant:["expand"],notes:"circum(ç¯ç»•)+scrib(å†™) â†’ ç”»åœˆé™åˆ¶"},

  // graph/gram/photo
  {word:"photograph",pos:"n./v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"a picture made using a camera; to take a photo",
    meaning_zh:"ç…§ç‰‡ï¼›æ‹ç…§",
    examples:["She loves to photograph urban scenes."],
    roots:[{m:"photo",t:"root"},{m:"graph",t:"root"}],
    topics:["art"],syn:["picture"],ant:[],notes:"photo(å…‰)+graph(å†™) â†’ ç”¨å…‰å†™å­—"},
  {word:"biography",pos:"n.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"an account of someone's life written by someone else",
    meaning_zh:"ä¼ è®°",
    examples:["The biography captures her early struggles."],
    roots:[{m:"bio",t:"root"},{m:"graph",t:"root"},{m:"y",t:"suffix"}],
    topics:["literature"],syn:["life story"],ant:[],notes:"bio(ç”Ÿå‘½)+graph(å†™) â†’ å†™ç”Ÿå¹³"},
  {word:"geography",pos:"n.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"the study of Earth's physical features and human activity",
    meaning_zh:"åœ°ç†å­¦",
    examples:["Human geography focuses on people and cultures."],
    roots:[{m:"geo",t:"root"},{m:"graph",t:"root"},{m:"y",t:"suffix"}],
    topics:["science"],syn:["earth science"],ant:[],notes:"geo(åœ°)+graph(å†™)"},
  {word:"diagram",pos:"n.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"a simplified drawing showing appearance or structure",
    meaning_zh:"å›¾è¡¨ï¼›ç¤ºæ„å›¾",
    examples:["The diagram illustrates the process."],
    roots:[{m:"dia",t:"prefix"},{m:"gram",t:"root"}],
    topics:["academic"],syn:["chart","figure"],ant:[],notes:"dia(ç©¿è¿‡)+gram(ç”») â†’ é€è§†å›¾ç¤º"},
  {word:"autograph",pos:"n./v.",level:["IELTS"],frequency:3,
    definition_en:"a signature, especially of a celebrity; to sign",
    meaning_zh:"äº²ç¬”ç­¾åï¼›ç­¾å",
    examples:["Fans asked for his autograph."],
    roots:[{m:"auto",t:"prefix"},{m:"graph",t:"root"}],
    topics:["people"],syn:["signature"],ant:[],notes:"auto(è‡ªå·±)+graph(å†™)"},
  {word:"telegraph",pos:"n./v.",level:["TOEFL"],frequency:2,
    definition_en:"a system for transmitting messages over long distances",
    meaning_zh:"ç”µæŠ¥ï¼›æ‰“ç”µæŠ¥",
    examples:["The telegraph revolutionized communication."],
    roots:[{m:"tele",t:"prefix"},{m:"graph",t:"root"}],
    topics:["history","tech"],syn:["wire"],ant:[],notes:"tele(è¿œ)+graph(å†™)"},

  // phon
  {word:"cacophony",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"a harsh, discordant mixture of sounds",
    meaning_zh:"åˆºè€³çš„å™ªéŸ³",
    examples:["The market was a cacophony of horns and shouts."],
    roots:[{m:"caco",t:"prefix"},{m:"phon",t:"root"},{m:"y",t:"suffix"}],
    topics:["sound"],syn:["din","discord"],ant:["euphony"],notes:"caco(å)+phon(å£°)"},
  {word:"euphony",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"the quality of being pleasing to the ear",
    meaning_zh:"æ‚¦è€³ä¹‹éŸ³",
    examples:["Poets often seek euphony."],
    roots:[{m:"eu",t:"prefix"},{m:"phon",t:"root"},{m:"y",t:"suffix"}],
    topics:["sound"],syn:["melody"],ant:["cacophony"],notes:"eu(å¥½)+phon(å£°)"},
  {word:"symphony",pos:"n.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"a long, complex musical composition for orchestra",
    meaning_zh:"äº¤å“ä¹",
    examples:["They performed Beethoven's Fifth Symphony."],
    roots:[{m:"sym",t:"prefix"},{m:"phon",t:"root"},{m:"y",t:"suffix"}],
    topics:["music"],syn:["orchestral work"],ant:[],notes:"sym(å…±åŒ)+phon(å£°)"},
  {word:"microphone",pos:"n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"a device that converts sound into an electrical signal",
    meaning_zh:"éº¦å…‹é£",
    examples:["Please speak into the microphone."],
    roots:[{m:"micro",t:"prefix"},{m:"phon",t:"root"}],
    topics:["tech"],syn:["mic"],ant:[],notes:"micro(å¾®)+phon(å£°)"},
  {word:"megaphone",pos:"n.",level:["IELTS"],frequency:2,
    definition_en:"a device for amplifying the voice",
    meaning_zh:"æ‰©éŸ³å™¨",
    examples:["The coach shouted through a megaphone."],
    roots:[{m:"mega",t:"prefix"},{m:"phon",t:"root"}],
    topics:["tech"],syn:["loudhailer"],ant:[],notes:"mega(å¤§)+phon(å£°)"},
  {word:"phonetics",pos:"n.",level:["TOEFL"],frequency:3,
    definition_en:"the study of speech sounds",
    meaning_zh:"è¯­éŸ³å­¦",
    examples:["Phonetics analyzes how sounds are produced."],
    roots:[{m:"phon",t:"root"},{m:"ic",t:"suffix"},{m:"s",t:"suffix"}],
    topics:["linguistics"],syn:["speech sounds"],ant:[],notes:"phon(å£°)+-ics(å­¦ç§‘)"},

  // spect/vid/vis
  {word:"circumspect",pos:"adj.",level:["GRE"],frequency:2,
    definition_en:"wary and unwilling to take risks",
    meaning_zh:"è°¨æ…çš„ï¼›æ…é‡çš„",
    examples:["He is circumspect in financial decisions."],
    roots:[{m:"circum",t:"prefix"},{m:"spect",t:"root"}],
    topics:["personality"],syn:["cautious"],ant:["reckless"],notes:"circum(å‘¨å›´)+spect(çœ‹) â†’ çœ‹å››å‘¨=è°¨æ…"},
  {word:"retrospect",pos:"n.",level:["IELTS"],frequency:2,
    definition_en:"a survey or review of a past course of events",
    meaning_zh:"å›é¡¾ï¼›åæ€",
    examples:["In retrospect, the choice was obvious."],
    roots:[{m:"retro",t:"prefix"},{m:"spect",t:"root"}],
    topics:["thinking"],syn:["review"],ant:[],notes:"retro(å‘å)+spect(çœ‹)"},
  {word:"conspicuous",pos:"adj.",level:["IELTS"],frequency:3,
    definition_en:"standing out so as to be clearly visible",
    meaning_zh:"æ˜¾çœ¼çš„ï¼›æ˜¾è‘—çš„",
    examples:["Her red coat made her conspicuous."],
    roots:[{m:"con",t:"prefix"},{m:"spic",t:"root"},{m:"ous",t:"suffix"}],
    topics:["appearance"],syn:["noticeable"],ant:["inconspicuous"],notes:"con(å…±åŒ)+spic(çœ‹) â†’ å¤§å®¶éƒ½çœ‹è§"},
  {word:"evidence",pos:"n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"the available body of facts indicating whether a belief is true",
    meaning_zh:"è¯æ®",
    examples:["There is strong evidence to support the claim."],
    roots:[{m:"e",t:"prefix"},{m:"vid",t:"root"},{m:"ence",t:"suffix"}],
    topics:["academic"],syn:["proof"],ant:[],notes:"e(å¤–)+vid(çœ‹è§) â†’ çœ‹å¾—è§=è¯æ®"},
  {word:"revise",pos:"v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to reconsider and alter (something) in light of further evidence",
    meaning_zh:"ä¿®è®¢ï¼›å¤ä¹ ",
    examples:["Please revise your essay."],
    roots:[{m:"re",t:"prefix"},{m:"vis",t:"root"}],
    topics:["academic"],syn:["edit","review"],ant:["stick to"],notes:"re(å†)+vis(çœ‹)"},
  {word:"supervise",pos:"v.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"to oversee (a person or task)",
    meaning_zh:"ç›‘ç£ï¼›æŒ‡å¯¼",
    examples:["She supervises graduate students."],
    roots:[{m:"super",t:"prefix"},{m:"vis",t:"root"}],
    topics:["work"],syn:["oversee"],ant:["neglect"],notes:"super(åœ¨ä¸Š)+vis(çœ‹)"},
  {word:"invisible",pos:"adj.",level:["IELTS"],frequency:3,
    definition_en:"unable to be seen",
    meaning_zh:"çœ‹ä¸è§çš„ï¼›æ— å½¢çš„",
    examples:["Invisible forces shape markets."],
    roots:[{m:"in",t:"prefix"},{m:"vis",t:"root"},{m:"ible",t:"suffix"}],
    topics:["science"],syn:["unseen"],ant:["visible"],notes:"in(ä¸)+vis(çœ‹)+ible"},
  {word:"television",pos:"n.",level:["IELTS"],frequency:5,
    definition_en:"a system for transmitting visual images and sound",
    meaning_zh:"ç”µè§†",
    examples:["Television changed entertainment."],
    roots:[{m:"tele",t:"prefix"},{m:"vis",t:"root"},{m:"ion",t:"suffix"}],
    topics:["tech"],syn:["TV"],ant:[],notes:"tele(è¿œ)+vis(çœ‹)"},

  // mit/miss
  {word:"transmit",pos:"v.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"to send or pass on from one place to another",
    meaning_zh:"ä¼ è¾“ï¼›ä¼ é€’ï¼›ä¼ æ’­",
    examples:["The virus transmits through droplets."],
    roots:[{m:"trans",t:"prefix"},{m:"mit",t:"root"}],
    topics:["tech","health"],syn:["send","transfer"],ant:["receive"],notes:"trans(è·¨è¶Š)+mit(é€)"},
  {word:"submit",pos:"v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to present for consideration; to yield to authority",
    meaning_zh:"æäº¤ï¼›å±ˆä»",
    examples:["Submit your application online."],
    roots:[{m:"sub",t:"prefix"},{m:"mit",t:"root"}],
    topics:["work","academic"],syn:["present","yield"],ant:["resist"],notes:"sub(ä¸‹)+mit(é€)"},
  {word:"admit",pos:"v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to confess; to allow entry",
    meaning_zh:"æ‰¿è®¤ï¼›å‡†è®¸è¿›å…¥",
    examples:["He admitted his mistake."],
    roots:[{m:"ad",t:"prefix"},{m:"mit",t:"root"}],
    topics:["law","people"],syn:["confess","allow"],ant:["deny"],notes:"ad(å‘)+mit(æ”¾å…¥/é€)"},
  {word:"dismiss",pos:"v.",level:["TOEFL"],frequency:4,
    definition_en:"to decide not to consider; to remove from a job",
    meaning_zh:"ä¸äºˆè€ƒè™‘ï¼›è§£é›‡",
    examples:["The judge dismissed the case."],
    roots:[{m:"dis",t:"prefix"},{m:"miss",t:"root"}],
    topics:["law","work"],syn:["reject","fire"],ant:["hire","consider"],notes:"dis(ç¦»)+miss(é€) â†’ é€èµ°=è§£é›‡"},
  {word:"permit",pos:"v./n.",level:["IELTS"],frequency:4,
    definition_en:"to allow; an official document giving authorization",
    meaning_zh:"å…è®¸ï¼›è®¸å¯è¯",
    examples:["Parking is permitted here."],
    roots:[{m:"per",t:"prefix"},{m:"mit",t:"root"}],
    topics:["law"],syn:["allow","license"],ant:["forbid"],notes:"per(è´¯é€š)+mit(æ”¾)"},
  {word:"emit",pos:"v.",level:["TOEFL"],frequency:4,
    definition_en:"to give off, release",
    meaning_zh:"å‘å‡ºï¼›æ’æ”¾",
    examples:["Factories emit greenhouse gases."],
    roots:[{m:"e",t:"prefix"},{m:"mit",t:"root"}],
    topics:["environment"],syn:["release"],ant:["absorb"],notes:"e(å‘å¤–)+mit(é€å‡º)"},

  // port
  {word:"transport",pos:"v./n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to carry from one place to another; transportation",
    meaning_zh:"è¿è¾“ï¼›è¿é€",
    examples:["Goods are transported by rail."],
    roots:[{m:"trans",t:"prefix"},{m:"port",t:"root"}],
    topics:["logistics"],syn:["carry","ship"],ant:[],notes:"trans(è·¨è¶Š)+port(è¿)"},
  {word:"import",pos:"v./n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to bring goods or services into a country from abroad",
    meaning_zh:"è¿›å£ï¼›è¾“å…¥",
    examples:["The country imports oil."],
    roots:[{m:"im",t:"prefix"},{m:"port",t:"root"}],
    topics:["economy"],syn:["bring in"],ant:["export"],notes:"im(å…¥)+port(è¿)"},
  {word:"export",pos:"v./n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to send goods to another country for sale",
    meaning_zh:"å‡ºå£ï¼›è¾“å‡º",
    examples:["They export coffee beans."],
    roots:[{m:"ex",t:"prefix"},{m:"port",t:"root"}],
    topics:["economy"],syn:["send out"],ant:["import"],notes:"ex(å‡º)+port(è¿)"},
  {word:"support",pos:"v./n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to bear all or part of the weight; to back up",
    meaning_zh:"æ”¯æŒï¼›æ”¯æ’‘",
    examples:["The data support the hypothesis."],
    roots:[{m:"sub",t:"prefix"},{m:"port",t:"root"}],
    topics:["academic","people"],syn:["back","sustain"],ant:["undermine"],notes:"sub(åœ¨ä¸‹)+port(æ‰¿)"},
  {word:"deport",pos:"v.",level:["GRE"],frequency:2,
    definition_en:"to expel a foreigner from a country",
    meaning_zh:"é©±é€å‡ºå¢ƒï¼›é€’è§£",
    examples:["They were deported for visa violations."],
    roots:[{m:"de",t:"prefix"},{m:"port",t:"root"}],
    topics:["law"],syn:["expel"],ant:["admit"],notes:"de(ç¦»å¼€)+port(è¿)"},

  // duc/duct
  {word:"induce",pos:"v.",level:["GRE","TOEFL"],frequency:3,
    definition_en:"to bring about; to persuade",
    meaning_zh:"å¼•èµ·ï¼›è¯±å¯¼",
    examples:["The drug induces sleep."],
    roots:[{m:"in",t:"prefix"},{m:"duc",t:"root"}],
    topics:["science","psychology"],syn:["cause","persuade"],ant:["deter"],notes:"in(å‘å†…)+duc(å¼•å¯¼)"},
  {word:"reduce",pos:"v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to make smaller",
    meaning_zh:"å‡å°‘ï¼›é™ä½",
    examples:["Reduce waste and save energy."],
    roots:[{m:"re",t:"prefix"},{m:"duc",t:"root"}],
    topics:["environment"],syn:["decrease"],ant:["increase"],notes:"re(å›/å‘ä¸‹)+duc(å¼•)"},
  {word:"deduce",pos:"v.",level:["GRE","TOEFL"],frequency:3,
    definition_en:"to derive as a conclusion from something known or assumed",
    meaning_zh:"æ¨æ–­ï¼›æ¨æ¼”",
    examples:["We deduce the rule from data."],
    roots:[{m:"de",t:"prefix"},{m:"duc",t:"root"}],
    topics:["logic"],syn:["infer"],ant:["guess"],notes:"de(å‘ä¸‹/ç”±ä¸Šåˆ°ä¸‹)+duc(å¼•) â†’ æ¨å¯¼"},
  {word:"conduct",pos:"v./n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to organize and carry out; behavior",
    meaning_zh:"å®æ–½ï¼›è¡Œä¸º",
    examples:["They conducted an experiment."],
    roots:[{m:"con",t:"prefix"},{m:"duct",t:"root"}],
    topics:["work","science"],syn:["carry out"],ant:[],notes:"con(å…±åŒ)+duct(å¼•)"},
  {word:"abduct",pos:"v.",level:["GRE","TOEFL"],frequency:2,
    definition_en:"to take away by force; kidnap",
    meaning_zh:"ç»‘æ¶ï¼›æ‹èµ°",
    examples:["The child was abducted."],
    roots:[{m:"ab",t:"prefix"},{m:"duct",t:"root"}],
    topics:["law"],syn:["kidnap"],ant:["release"],notes:"ab(ç¦»å¼€)+duct(å¸¦èµ°)"},
  {word:"aqueduct",pos:"n.",level:["TOEFL"],frequency:2,
    definition_en:"an artificial channel for conveying water",
    meaning_zh:"æ¸¡æ§½ï¼›å¯¼æ°´æ¸ ",
    examples:["The Roman aqueducts were engineering marvels."],
    roots:[{m:"aqua",t:"root"},{m:"duct",t:"root"}],
    topics:["engineering","history"],syn:["watercourse"],ant:[],notes:"aqua(æ°´)+duct(å¼•)"},

  // fac/fic/fact/fect
  {word:"manufacture",pos:"v./n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to make goods on a large scale",
    meaning_zh:"åˆ¶é€ ï¼›ç”Ÿäº§",
    examples:["The factory manufactures components."],
    roots:[{m:"manu",t:"root"},{m:"fact",t:"root"},{m:"ure",t:"suffix"}],
    topics:["industry"],syn:["produce"],ant:["consume"],notes:"manu(æ‰‹)+fact(åš) â†’ æ‰‹å·¥â†’å·¥ä¸š"},
  {word:"benefactor",pos:"n.",level:["GRE","IELTS"],frequency:3,
    definition_en:"a person who gives money or help",
    meaning_zh:"æ©äººï¼›æåŠ©è€…",
    examples:["A benefactor endowed the library."],
    roots:[{m:"bene",t:"root"},{m:"fact",t:"root"},{m:"or",t:"suffix"}],
    topics:["society"],syn:["patron"],ant:["malefactor"],notes:"bene(å¥½)+fact(åš) â†’ åšå¥½äº‹çš„äºº"},
  {word:"malefactor",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"a person who commits a crime or does evil",
    meaning_zh:"åäººï¼›ç½ªçŠ¯",
    examples:["The malefactor was apprehended."],
    roots:[{m:"mal",t:"root"},{m:"fact",t:"root"},{m:"or",t:"suffix"}],
    topics:["law"],syn:["criminal"],ant:["benefactor"],notes:"mal(å)+fact(åš)"},
  {word:"effect",pos:"n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"a change which is a result or consequence of an action",
    meaning_zh:"æ•ˆæœï¼›å½±å“",
    examples:["The policy had little effect."],
    roots:[{m:"e",t:"prefix"},{m:"fect",t:"root"}],
    topics:["academic"],syn:["impact"],ant:["cause"],notes:"e(å‡º)+fect(åšå‡º) â†’ ç»“æœ"},
  {word:"defect",pos:"n./v.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"a shortcoming; to desert one's cause or party",
    meaning_zh:"ç¼ºé™·ï¼›å›é€ƒ",
    examples:["A critical defect was found."],
    roots:[{m:"de",t:"prefix"},{m:"fect",t:"root"}],
    topics:["quality"],syn:["flaw"],ant:["perfection"],notes:"de(åç¦»)+fect(åšæˆ)"},
  {word:"perfect",pos:"adj.",level:["IELTS"],frequency:5,
    definition_en:"having all required elements; as good as possible",
    meaning_zh:"å®Œç¾çš„",
    examples:["The timing was perfect."],
    roots:[{m:"per",t:"prefix"},{m:"fect",t:"root"}],
    topics:["general"],syn:["flawless"],ant:["imperfect"],notes:"per(è´¯ç©¿)+fect(åš) â†’ åšåˆ°æè‡´"},

  // tract
  {word:"abstract",pos:"adj./n./v.",level:["GRE","TOEFL"],frequency:4,
    definition_en:"existing in thought; summary; to remove",
    meaning_zh:"æŠ½è±¡çš„ï¼›æ‘˜è¦ï¼›æå–",
    examples:["The paper's abstract is concise."],
    roots:[{m:"ab",t:"prefix"},{m:"tract",t:"root"}],
    topics:["academic"],syn:["conceptual","summary"],ant:["concrete"],notes:"ab(ç¦»å¼€)+tract(æ‹‰) â†’ æ‹‰ç¦»å…·ä½“"},
  {word:"distract",pos:"v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to divert attention",
    meaning_zh:"åˆ†å¿ƒï¼›å¹²æ‰°",
    examples:["Noise distracts me from work."],
    roots:[{m:"dis",t:"prefix"},{m:"tract",t:"root"}],
    topics:["psychology"],syn:["divert"],ant:["focus"],notes:"dis(åˆ†ç¦»)+tract(æ‹‰)"},
  {word:"contract",pos:"n./v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"a written agreement; to shrink",
    meaning_zh:"åˆåŒï¼›æ”¶ç¼©",
    examples:["The firm won a three-year contract."],
    roots:[{m:"con",t:"prefix"},{m:"tract",t:"root"}],
    topics:["law","business"],syn:["agreement"],ant:["expand"],notes:"con(å…±åŒ)+tract(æ‹‰) â†’ æ‹‰åˆ°ä¸€èµ·=åˆåŒ"},
  {word:"extract",pos:"v./n.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"to remove or take out; an excerpt",
    meaning_zh:"æå–ï¼›æ‘˜å½•",
    examples:["They extracted DNA samples."],
    roots:[{m:"ex",t:"prefix"},{m:"tract",t:"root"}],
    topics:["science"],syn:["remove"],ant:["insert"],notes:"ex(å‡º)+tract(æ‹‰)"},
  {word:"attract",pos:"v.",level:["IELTS"],frequency:5,
    definition_en:"to draw by appeal; to pull toward",
    meaning_zh:"å¸å¼•ï¼›å¼•èµ·",
    examples:["The museum attracts many visitors."],
    roots:[{m:"ad",t:"prefix"},{m:"tract",t:"root"}],
    topics:["people"],syn:["appeal"],ant:["repel"],notes:"ad(å‘)+tract(æ‹‰)"},
  {word:"retract",pos:"v.",level:["GRE"],frequency:3,
    definition_en:"to draw back; to withdraw",
    meaning_zh:"ç¼©å›ï¼›æ’¤å›",
    examples:["The journal retracted the article."],
    roots:[{m:"re",t:"prefix"},{m:"tract",t:"root"}],
    topics:["academic"],syn:["withdraw"],ant:["issue"],notes:"re(å›)+tract(æ‹‰)"},

  // cred
  {word:"credit",pos:"n./v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"public acknowledgment; financial trust; to ascribe",
    meaning_zh:"ä¿¡èª‰ï¼›å­¦åˆ†ï¼›å½’åŠŸäº",
    examples:["He took credit for the success."],
    roots:[{m:"cred",t:"root"},{m:"it",t:"suffix"}],
    topics:["finance","academic"],syn:["trust"],ant:["discredit"],notes:"cred(ä¿¡)"},
  {word:"credible",pos:"adj.",level:["IELTS"],frequency:4,
    definition_en:"able to be believed; convincing",
    meaning_zh:"å¯ä¿¡çš„",
    examples:["A credible source is essential."],
    roots:[{m:"cred",t:"root"},{m:"ible",t:"suffix"}],
    topics:["academic"],syn:["believable"],ant:["incredible"],notes:"cred(ä¿¡)+ible"},
  {word:"incredible",pos:"adj.",level:["IELTS"],frequency:5,
    definition_en:"impossible to believe; extraordinary",
    meaning_zh:"éš¾ä»¥ç½®ä¿¡çš„ï¼›æƒŠäººçš„",
    examples:["The view was incredible."],
    roots:[{m:"in",t:"prefix"},{m:"cred",t:"root"},{m:"ible",t:"suffix"}],
    topics:["general"],syn:["unbelievable"],ant:["credible"],notes:"in(ä¸)+cred(ä¿¡)"},
  {word:"discredit",pos:"v./n.",level:["GRE"],frequency:3,
    definition_en:"to harm the good reputation of; loss of reputation",
    meaning_zh:"ä½¿ä¸§å¤±ä¿¡èª‰ï¼›åèª‰ä¸§å¤±",
    examples:["The scandal discredited the committee."],
    roots:[{m:"dis",t:"prefix"},{m:"cred",t:"root"}],
    topics:["society"],syn:["defame"],ant:["credit"],notes:"dis(å¦)+cred(ä¿¡) â†’ ä½¿ä¸å¯ä¿¡"},

  // card/cord
  {word:"cordial",pos:"adj.",level:["IELTS"],frequency:3,
    definition_en:"warm and friendly",
    meaning_zh:"çƒ­è¯šçš„ï¼›å‹å¥½çš„",
    examples:["We had a cordial meeting."],
    roots:[{m:"cord",t:"root"},{m:"ial",t:"suffix"}],
    topics:["people"],syn:["friendly"],ant:["hostile"],notes:"cord(å¿ƒ)+ial â†’ å‡ºè‡ªå†…å¿ƒ"},
  {word:"accord",pos:"n./v.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"agreement; to grant",
    meaning_zh:"ä¸€è‡´ï¼›æˆäºˆ",
    examples:["The two sides reached an accord."],
    roots:[{m:"ad",t:"prefix"},{m:"cord",t:"root"}],
    topics:["law","diplomacy"],syn:["agreement"],ant:["discord"],notes:"ad(å‘)+cord(å¿ƒ) â†’ åŒå¿ƒ"},
  {word:"discord",pos:"n.",level:["GRE"],frequency:3,
    definition_en:"disagreement between people",
    meaning_zh:"ä¸å’Œï¼›çº·äº‰",
    examples:["Discord within the team grew."],
    roots:[{m:"dis",t:"prefix"},{m:"cord",t:"root"}],
    topics:["people"],syn:["conflict"],ant:["accord"],notes:"dis(ä¸)+cord(å¿ƒ)"},

  // path
  {word:"empathy",pos:"n.",level:["IELTS","TOEFL"],frequency:4,
    definition_en:"the ability to understand and share another's feelings",
    meaning_zh:"å…±æƒ…ï¼›åŒç†å¿ƒ",
    examples:["Empathy improves communication."],
    roots:[{m:"em",t:"prefix"},{m:"path",t:"root"},{m:"y",t:"suffix"}],
    topics:["psychology"],syn:["compassion"],ant:["apathy"],notes:"em(è¿›å…¥)+path(æ„Ÿæƒ…)"},
  {word:"sympathy",pos:"n.",level:["IELTS","TOEFL"],frequency:4,
    definition_en:"feelings of pity and sorrow for someone else's misfortune",
    meaning_zh:"åŒæƒ…ï¼›æ…°é—®",
    examples:["My sympathies for your loss."],
    roots:[{m:"sym",t:"prefix"},{m:"path",t:"root"},{m:"y",t:"suffix"}],
    topics:["people"],syn:["pity"],ant:[],notes:"sym(å…±åŒ)+path(æ„Ÿæƒ…)"},
  {word:"apathy",pos:"n.",level:["GRE"],frequency:3,
    definition_en:"lack of interest, enthusiasm, or concern",
    meaning_zh:"å†·æ¼ ï¼›æ— åŠ¨äºè¡·",
    examples:["Political apathy among youth is worrying."],
    roots:[{m:"a",t:"prefix"},{m:"path",t:"root"},{m:"y",t:"suffix"}],
    topics:["society"],syn:["indifference"],ant:["empathy"],notes:"a(æ— )+path(æ„Ÿæƒ…)"},
  {word:"antipathy",pos:"n.",level:["GRE"],frequency:3,
    definition_en:"a deep-seated feeling of dislike",
    meaning_zh:"åæ„Ÿï¼›åŒæ¶",
    examples:["He felt antipathy toward corruption."],
    roots:[{m:"anti",t:"prefix"},{m:"path",t:"root"},{m:"y",t:"suffix"}],
    topics:["emotion"],syn:["aversion"],ant:["affinity"],notes:"anti(å)+path(æ„Ÿæƒ…)"},
  {word:"pathology",pos:"n.",level:["TOEFL"],frequency:3,
    definition_en:"the study of diseases",
    meaning_zh:"ç—…ç†å­¦",
    examples:["Pathology reveals disease mechanisms."],
    roots:[{m:"path",t:"root"},{m:"logy",t:"suffix"}],
    topics:["medicine"],syn:["disease study"],ant:[],notes:"path(ç—…)+-logy(å­¦)"},
  {word:"telepathy",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"supposed communication through means other than the senses",
    meaning_zh:"å¿ƒçµæ„Ÿåº”",
    examples:["Twins are said to have telepathy."],
    roots:[{m:"tele",t:"prefix"},{m:"path",t:"root"},{m:"y",t:"suffix"}],
    topics:["parapsychology"],syn:["mind reading"],ant:[],notes:"tele(è¿œ)+path(æ„Ÿåº”)"},

  // morph
  {word:"morphology",pos:"n.",level:["TOEFL"],frequency:3,
    definition_en:"the study of the forms of things; in linguistics, word structure",
    meaning_zh:"å½¢æ€å­¦ï¼›ï¼ˆè¯­è¨€ï¼‰è¯æ³•",
    examples:["Linguistic morphology studies word formation."],
    roots:[{m:"morph",t:"root"},{m:"logy",t:"suffix"}],
    topics:["linguistics","biology"],syn:["form study"],ant:[],notes:"morph(å½¢)+-logy(å­¦)"},
  {word:"amorphous",pos:"adj.",level:["GRE"],frequency:2,
    definition_en:"without a clearly defined shape or form",
    meaning_zh:"æ— å›ºå®šå½¢çŠ¶çš„ï¼›éæ™¶çš„",
    examples:["An amorphous mass of jelly."],
    roots:[{m:"a",t:"prefix"},{m:"morph",t:"root"},{m:"ous",t:"suffix"}],
    topics:["science"],syn:["shapeless"],ant:["structured"],notes:"a(æ— )+morph(å½¢)"},
  {word:"metamorphosis",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"a change of the form or nature of a thing into a completely different one",
    meaning_zh:"èœ•å˜ï¼›å˜å½¢",
    examples:["Caterpillars undergo metamorphosis."],
    roots:[{m:"meta",t:"prefix"},{m:"morph",t:"root"},{m:"osis",t:"suffix"}],
    topics:["biology"],syn:["transformation"],ant:["stasis"],notes:"meta(å˜)+morph(å½¢)"},

  // sci
  {word:"omniscient",pos:"adj.",level:["GRE"],frequency:2,
    definition_en:"knowing everything",
    meaning_zh:"æ— æ‰€ä¸çŸ¥çš„",
    examples:["The narrator is omniscient."],
    roots:[{m:"omni",t:"prefix"},{m:"sci",t:"root"},{m:"ent",t:"suffix"}],
    topics:["literature"],syn:["all-knowing"],ant:[],notes:"omni(å…¨)+sci(çŸ¥)"},
  {word:"prescient",pos:"adj.",level:["GRE"],frequency:2,
    definition_en:"having or showing knowledge of events before they take place",
    meaning_zh:"æœ‰å…ˆè§ä¹‹æ˜çš„",
    examples:["A prescient analysis predicted the crisis."],
    roots:[{m:"pre",t:"prefix"},{m:"sci",t:"root"},{m:"ent",t:"suffix"}],
    topics:["thinking"],syn:["foresighted"],ant:["short-sighted"],notes:"pre(å‰)+sci(çŸ¥)"},
  {word:"conscience",pos:"n.",level:["IELTS"],frequency:4,
    definition_en:"an inner feeling as a guide to rightness or wrongness",
    meaning_zh:"è‰¯çŸ¥ï¼›è‰¯å¿ƒ",
    examples:["He acted according to his conscience."],
    roots:[{m:"con",t:"prefix"},{m:"sci",t:"root"},{m:"ence",t:"suffix"}],
    topics:["morality"],syn:["moral sense"],ant:[],notes:"con(å…±åŒ)+sci(çŸ¥) â†’ ä¸€èµ·çŸ¥é“=è‰¯çŸ¥"},
  {word:"science",pos:"n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"the intellectual and practical activity encompassing the systematic study of structure and behavior",
    meaning_zh:"ç§‘å­¦",
    examples:["Science advances through evidence."],
    roots:[{m:"sci",t:"root"},{m:"ence",t:"suffix"}],
    topics:["academic"],syn:["systematic study"],ant:[],notes:"sci(çŸ¥)+-ence(å)"},
  
  // chron
  {word:"chronology",pos:"n.",level:["TOEFL"],frequency:3,
    definition_en:"the arrangement of events in time",
    meaning_zh:"å¹´ä»£å­¦ï¼›å¹´è¡¨",
    examples:["The chronology of events is unclear."],
    roots:[{m:"chron",t:"root"},{m:"logy",t:"suffix"}],
    topics:["history"],syn:["timeline"],ant:[],notes:"chron(æ—¶)+-logy"},
  {word:"synchronize",pos:"v.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"to cause to occur or operate at the same time or rate",
    meaning_zh:"åŒæ­¥ï¼›æ ¡å‡†",
    examples:["Phones synchronize data automatically."],
    roots:[{m:"syn",t:"prefix"},{m:"chron",t:"root"},{m:"ize",t:"suffix"}],
    topics:["tech"],syn:["coordinate"],ant:["desynchronize"],notes:"syn(åŒ)+chron(æ—¶)"},
  {word:"anachronism",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"a thing belonging to a period other than that in which it exists",
    meaning_zh:"æ—¶ä»£é”™è¯¯ï¼›ä¸åˆæ—¶å®œä¹‹ç‰©",
    examples:["A sword in a sci-fi film is an anachronism."],
    roots:[{m:"ana",t:"prefix"},{m:"chron",t:"root"},{m:"ism",t:"suffix"}],
    topics:["history"],syn:["misdating"],ant:[],notes:"ana(é€†/é”™)+chron(æ—¶)"},
  {word:"chronic",pos:"adj.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"persisting for a long time or constantly recurring",
    meaning_zh:"æ…¢æ€§çš„ï¼›é•¿æœŸçš„",
    examples:["Chronic stress harms health."],
    roots:[{m:"chron",t:"root"},{m:"ic",t:"suffix"}],
    topics:["health"],syn:["persistent"],ant:["acute"],notes:"chron(æ—¶)+ic"},

  // bio/geo/therm/tele/scope
  {word:"biology",pos:"n.",level:["TOEFL"],frequency:5,
    definition_en:"the study of living organisms",
    meaning_zh:"ç”Ÿç‰©å­¦",
    examples:["Biology explores life processes."],
    roots:[{m:"bio",t:"root"},{m:"logy",t:"suffix"}],
    topics:["science"],syn:["life science"],ant:[],notes:"bio(ç”Ÿ)+-logy"},
  {word:"geology",pos:"n.",level:["TOEFL"],frequency:4,
    definition_en:"the science of Earth's physical structure and substance",
    meaning_zh:"åœ°è´¨å­¦",
    examples:["Geology examines rock formations."],
    roots:[{m:"geo",t:"root"},{m:"logy",t:"suffix"}],
    topics:["science"],syn:["earth science"],ant:[],notes:"geo(åœ°)+-logy"},
  {word:"geometry",pos:"n.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"the branch of mathematics concerned with properties of space",
    meaning_zh:"å‡ ä½•å­¦",
    examples:["Geometry studies shapes and angles."],
    roots:[{m:"geo",t:"root"},{m:"metr",t:"root"},{m:"y",t:"suffix"}],
    topics:["math"],syn:["shape math"],ant:[],notes:"geo(åœ°)+metr(æµ‹)"},
  {word:"thermometer",pos:"n.",level:["TOEFL"],frequency:4,
    definition_en:"an instrument for measuring temperature",
    meaning_zh:"æ¸©åº¦è®¡",
    examples:["The thermometer reads 20Â°C."],
    roots:[{m:"therm",t:"root"},{m:"meter",t:"suffix"}],
    topics:["science"],syn:["temperature gauge"],ant:[],notes:"therm(çƒ­)+meter(è®¡)"},
  {word:"thermostat",pos:"n.",level:["TOEFL"],frequency:3,
    definition_en:"a device that automatically regulates temperature",
    meaning_zh:"æ’æ¸©å™¨",
    examples:["Adjust the thermostat to 22Â°C."],
    roots:[{m:"therm",t:"root"},{m:"stat",t:"root"}],
    topics:["tech"],syn:["temperature controller"],ant:[],notes:"therm(çƒ­)+stat(ç¨³å®š)"},
  {word:"telescope",pos:"n.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"an instrument for making distant objects appear nearer",
    meaning_zh:"æœ›è¿œé•œ",
    examples:["The telescope reveals distant galaxies."],
    roots:[{m:"tele",t:"prefix"},{m:"scope",t:"root"}],
    topics:["astronomy"],syn:["optic"],ant:[],notes:"tele(è¿œ)+scope(çœ‹)"},
  {word:"microscope",pos:"n.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"an instrument for viewing very small objects",
    meaning_zh:"æ˜¾å¾®é•œ",
    examples:["Cells are visible under a microscope."],
    roots:[{m:"micro",t:"prefix"},{m:"scope",t:"root"}],
    topics:["biology"],syn:["scope"],ant:[],notes:"micro(å¾®)+scope(çœ‹)"},
  {word:"periscope",pos:"n.",level:["TOEFL"],frequency:2,
    definition_en:"an apparatus for observation from a concealed position",
    meaning_zh:"æ½œæœ›é•œ",
    examples:["Submarines use periscopes to see above water."],
    roots:[{m:"peri",t:"prefix"},{m:"scope",t:"root"}],
    topics:["tech"],syn:["viewer"],ant:[],notes:"peri(å‘¨å›´)+scope(çœ‹)"},

  // nov/nat/mort
  {word:"novice",pos:"n.",level:["IELTS"],frequency:3,
    definition_en:"a person new to or inexperienced in a field",
    meaning_zh:"æ–°æ‰‹ï¼›åˆå­¦è€…",
    examples:["A novice programmer needs practice."],
    roots:[{m:"nov",t:"root"},{m:"ice",t:"suffix"}],
    topics:["people"],syn:["beginner"],ant:["expert"],notes:"nov(æ–°)"},
  {word:"innovate",pos:"v.",level:["IELTS","TOEFL"],frequency:4,
    definition_en:"to make changes by introducing new methods",
    meaning_zh:"åˆ›æ–°ï¼›é©æ–°",
    examples:["Firms must innovate to survive."],
    roots:[{m:"in",t:"prefix"},{m:"nov",t:"root"},{m:"ate",t:"suffix"}],
    topics:["business","tech"],syn:["create"],ant:["imitate"],notes:"in(ä½¿â€¦)+nov(æ–°)"},
  {word:"renovate",pos:"v.",level:["IELTS"],frequency:3,
    definition_en:"to restore to a good state; to renew",
    meaning_zh:"ç¿»æ–°ï¼›ä¿®å¤",
    examples:["They renovated the old house."],
    roots:[{m:"re",t:"prefix"},{m:"nov",t:"root"},{m:"ate",t:"suffix"}],
    topics:["construction"],syn:["restore"],ant:["dilate"],notes:"re(å†)+nov(æ–°)"},
  {word:"natal",pos:"adj.",level:["TOEFL"],frequency:2,
    definition_en:"relating to the place or time of one's birth",
    meaning_zh:"å‡ºç”Ÿçš„ï¼›äº§å‰/äº§åçš„",
    examples:["Prenatal care is crucial."],
    roots:[{m:"nat",t:"root"},{m:"al",t:"suffix"}],
    topics:["health"],syn:["birth-related"],ant:[],notes:"nat(ç”Ÿ)"},
  {word:"native",pos:"adj./n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"associated with the country or region of one's birth",
    meaning_zh:"æœ¬åœŸçš„ï¼›åœŸè‘—ï¼›æ¯è¯­è€…",
    examples:["She's a native speaker of Spanish."],
    roots:[{m:"nat",t:"root"},{m:"ive",t:"suffix"}],
    topics:["society"],syn:["indigenous"],ant:["foreign"],notes:"nat(ç”Ÿ)"},
  {word:"innate",pos:"adj.",level:["GRE","IELTS"],frequency:3,
    definition_en:"inborn; natural",
    meaning_zh:"å¤©ç”Ÿçš„ï¼›å›ºæœ‰çš„",
    examples:["An innate talent for music."],
    roots:[{m:"in",t:"prefix"},{m:"nate",t:"root"}],
    topics:["psychology"],syn:["inborn"],ant:["acquired"],notes:"in(å†…)+nat(ç”Ÿ)"},
  {word:"mortal",pos:"adj./n.",level:["IELTS"],frequency:3,
    definition_en:"subject to death; a human being",
    meaning_zh:"ä¼šæ­»çš„ï¼›å‡¡äºº",
    examples:["All mortal beings fear death."],
    roots:[{m:"mort",t:"root"},{m:"al",t:"suffix"}],
    topics:["philosophy"],syn:["human"],ant:["immortal"],notes:"mort(æ­»)"},
  {word:"immortal",pos:"adj.",level:["GRE","IELTS"],frequency:3,
    definition_en:"living forever; undying",
    meaning_zh:"ä¸æœ½çš„ï¼›ä¸æ­»çš„",
    examples:["Immortal fame."],
    roots:[{m:"im",t:"prefix"},{m:"mort",t:"root"},{m:"al",t:"suffix"}],
    topics:["literature"],syn:["undying"],ant:["mortal"],notes:"im(ä¸)+mort(æ­»)"},
  {word:"mortuary",pos:"n./adj.",level:["TOEFL"],frequency:2,
    definition_en:"a funeral home; relating to burial",
    meaning_zh:"åœå°¸é—´ï¼›ä¸§è‘¬çš„",
    examples:["The mortuary is near the hospital."],
    roots:[{m:"mort",t:"root"},{m:"uary",t:"suffix"}],
    topics:["health"],syn:["funeral home"],ant:[],notes:"mort(æ­»)+-uary"},

  // ven/vent
  {word:"intervene",pos:"v.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"to come between so as to prevent or alter",
    meaning_zh:"å¹²é¢„ï¼›ä»‹å…¥",
    examples:["They intervened to stop the fight."],
    roots:[{m:"inter",t:"prefix"},{m:"ven",t:"root"}],
    topics:["society"],syn:["meddle","intercede"],ant:["ignore"],notes:"inter(ä¹‹é—´)+ven(æ¥)"},
  {word:"convene",pos:"v.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"to come or bring together for a meeting",
    meaning_zh:"å¬å¼€ï¼›èšé›†",
    examples:["The committee will convene tomorrow."],
    roots:[{m:"con",t:"prefix"},{m:"vene",t:"root"}],
    topics:["work"],syn:["assemble"],ant:["adjourn"],notes:"con(å…±åŒ)+ven(æ¥)"},
  {word:"convention",pos:"n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"a formal meeting; a general agreement or practice",
    meaning_zh:"å¤§ä¼šï¼›æƒ¯ä¾‹",
    examples:["By convention, we use SI units."],
    roots:[{m:"con",t:"prefix"},{m:"vent",t:"root"},{m:"ion",t:"suffix"}],
    topics:["work","culture"],syn:["custom","conference"],ant:["innovation"],notes:"con(å…±)+vent(æ¥)"},
  {word:"prevent",pos:"v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"to stop something from happening",
    meaning_zh:"é¢„é˜²ï¼›é˜»æ­¢",
    examples:["Vaccines prevent disease."],
    roots:[{m:"pre",t:"prefix"},{m:"vent",t:"root"}],
    topics:["health"],syn:["avoid","stop"],ant:["cause"],notes:"pre(é¢„)+vent(æ¥)"},
  {word:"event",pos:"n.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"a thing that happens",
    meaning_zh:"äº‹ä»¶ï¼›æ´»åŠ¨",
    examples:["The event starts at 7 pm."],
    roots:[{m:"e",t:"prefix"},{m:"vent",t:"root"}],
    topics:["general"],syn:["occurrence"],ant:[],notes:"e(å‡º)+vent(æ¥)"},
  {word:"advent",pos:"n.",level:["GRE","TOEFL"],frequency:3,
    definition_en:"the arrival of a notable person, thing, or event",
    meaning_zh:"åˆ°æ¥ï¼›å‡ºç°",
    examples:["The advent of AI transformed workflows."],
    roots:[{m:"ad",t:"prefix"},{m:"vent",t:"root"}],
    topics:["history","tech"],syn:["arrival"],ant:["departure"],notes:"ad(æ¥)+vent(åˆ°)"},

  // gress/grad
  {word:"progress",pos:"n./v.",level:["TOEFL","IELTS"],frequency:5,
    definition_en:"forward or onward movement; to advance",
    meaning_zh:"è¿›æ­¥ï¼›å‰è¿›",
    examples:["Steady progress has been made."],
    roots:[{m:"pro",t:"prefix"},{m:"gress",t:"root"}],
    topics:["general"],syn:["advance"],ant:["regress"],notes:"pro(å‘å‰)+gress(èµ°)"},
  {word:"regress",pos:"v.",level:["GRE"],frequency:2,
    definition_en:"to return to a former or less developed state",
    meaning_zh:"é€€æ­¥ï¼›é€†è¡Œ",
    examples:["The market regressed after a rally."],
    roots:[{m:"re",t:"prefix"},{m:"gress",t:"root"}],
    topics:["economy"],syn:["relapse"],ant:["progress"],notes:"re(å›)+gress(èµ°)"},
  {word:"digress",pos:"v.",level:["GRE"],frequency:2,
    definition_en:"to leave the main subject temporarily in speech or writing",
    meaning_zh:"ç¦»é¢˜ï¼›è·‘é¢˜",
    examples:["Let me digress briefly."],
    roots:[{m:"di",t:"prefix"},{m:"gress",t:"root"}],
    topics:["writing"],syn:["stray"],ant:["stick"],notes:"di(ç¦»å¼€)+gress(èµ°)"},
  {word:"transgress",pos:"v.",level:["GRE"],frequency:2,
    definition_en:"to go beyond the bounds of a standard or rule",
    meaning_zh:"è¿èƒŒï¼›è¶Šç•Œ",
    examples:["He transgressed the code of conduct."],
    roots:[{m:"trans",t:"prefix"},{m:"gress",t:"root"}],
    topics:["law"],syn:["violate"],ant:["comply"],notes:"trans(è¶Š)+gress(èµ°)"},
  {word:"gradient",pos:"n.",level:["TOEFL"],frequency:3,
    definition_en:"an incline; a rate of change of a function",
    meaning_zh:"å¡åº¦ï¼›ï¼ˆæ•°ï¼‰æ¢¯åº¦",
    examples:["The gradient is steep."],
    roots:[{m:"grad",t:"root"},{m:"ient",t:"suffix"}],
    topics:["math"],syn:["slope"],ant:[],notes:"grad(æ­¥ã€çº§)"},
  {word:"gradual",pos:"adj.",level:["IELTS"],frequency:4,
    definition_en:"taking place slowly",
    meaning_zh:"æ¸è¿›çš„ï¼›é€æ­¥çš„",
    examples:["A gradual increase in temperature."],
    roots:[{m:"grad",t:"root"},{m:"ual",t:"suffix"}],
    topics:["science"],syn:["incremental"],ant:["sudden"],notes:"grad(çº§)+-ual"},

  // anim
  {word:"equanimity",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"mental calmness and composure",
    meaning_zh:"å¹³é™ï¼›æ²‰ç€",
    examples:["She handled the crisis with equanimity."],
    roots:[{m:"equi",t:"root"},{m:"anim",t:"root"},{m:"ity",t:"suffix"}],
    topics:["psychology"],syn:["calm"],ant:["agitation"],notes:"equi(å¹³ç­‰)+anim(å¿ƒç¥)"},
  {word:"magnanimous",pos:"adj.",level:["GRE"],frequency:2,
    definition_en:"very generous or forgiving, especially toward a rival",
    meaning_zh:"å®½å®å¤§é‡çš„",
    examples:["A magnanimous gesture."],
    roots:[{m:"magn",t:"root"},{m:"anim",t:"root"},{m:"ous",t:"suffix"}],
    topics:["morality"],syn:["generous"],ant:["petty"],notes:"magn(å¤§)+anim(å¿ƒèƒ¸)"},
  {word:"unanimous",pos:"adj.",level:["TOEFL","IELTS"],frequency:4,
    definition_en:"fully in agreement",
    meaning_zh:"ä¸€è‡´åŒæ„çš„",
    examples:["The vote was unanimous."],
    roots:[{m:"uni",t:"prefix"},{m:"anim",t:"root"},{m:"ous",t:"suffix"}],
    topics:["work"],syn:["agreed"],ant:["divided"],notes:"uni(ä¸€)+anim(å¿ƒ)"},
  {word:"animate",pos:"v./adj.",level:["TOEFL"],frequency:3,
    definition_en:"to bring to life; alive",
    meaning_zh:"èµ‹äºˆç”Ÿå‘½ï¼›æœ‰ç”Ÿå‘½çš„",
    examples:["The illustrations animate the story."],
    roots:[{m:"anim",t:"root"},{m:"ate",t:"suffix"}],
    topics:["art"],syn:["enliven"],ant:["inanimate"],notes:"anim(ç”Ÿå‘½)"},
  {word:"animosity",pos:"n.",level:["GRE"],frequency:2,
    definition_en:"strong hostility",
    meaning_zh:"æ•Œæ„ï¼›ä»‡æ¨",
    examples:["Long-held animosity faded."],
    roots:[{m:"anim",t:"root"},{m:"osity",t:"suffix"}],
    topics:["emotion"],syn:["hostility"],ant:["amity"],notes:"anim(å¿ƒç¥)+-osity(å)"},
];

/** Derived helpers and indices **/
const ALL_LEVELS = ["GRE","TOEFL","IELTS"];
const ALL_POS = [...new Set(WORDS.map(w=>w.pos.split(/[.,/ ]+/)[0]).filter(Boolean))];
const ALL_TOPICS = [...new Set(WORDS.flatMap(w=>w.topics||[]))].sort();
const ALL_MORPHS = [...new Set(WORDS.flatMap(w=>w.roots?.map(r=>r.m)||[]))].sort();

const LEVEL_FILTER = new Set();
const POS_FILTER = new Set();
const TOPIC_FILTER = new Set();
const MORPH_FILTER = new Set();
let ONLY_ROOTS=false, REQUIRE_ALL=false, FREQ_MIN=1;
let QUERY="";

const state = {
  words:[...WORDS],
  idx:{
    byMorph:new Map(), // morpheme -> Set(words)
    byWord:new Map(),
  },
  selected:null,
  selectedForScene: new Set(), // words user selected in grid
  srsQueue:[],
};

function buildIndex(){
  state.idx.byMorph.clear();
  state.idx.byWord.clear();
  for (const w of state.words){
    state.idx.byWord.set(w.word.toLowerCase(), w);
    (w.roots||[]).forEach(r=>{
      if(!state.idx.byMorph.has(r.m)) state.idx.byMorph.set(r.m, new Set());
      state.idx.byMorph.get(r.m).add(w);
    });
  }
}
buildIndex();

/** UI setup **/
const $ = sel => document.querySelector(sel);
const $$ = sel => Array.from(document.querySelectorAll(sel));
$("#total").textContent = state.words.length;

function chip(text, active=false){
  const d=document.createElement('span'); d.className='chip'+(active?' active':''); d.textContent=text; return d;
}
function fillChips(){
  // levels
  const lvl=$("#levelChips"); lvl.innerHTML='';
  ALL_LEVELS.forEach(l=>{
    const c=chip(l); c.onclick=()=>{toggleSet(LEVEL_FILTER,l); render();}; lvl.appendChild(c);
  });
  // pos
  const pc=$("#posChips"); pc.innerHTML='';
  ALL_POS.forEach(p=>{
    const c=chip(p); c.onclick=()=>{toggleSet(POS_FILTER,p); render();}; pc.appendChild(c);
  });
  // topics
  const tc=$("#topicChips"); tc.innerHTML='';
  ALL_TOPICS.forEach(t=>{
    const c=chip(t); c.onclick=()=>{toggleSet(TOPIC_FILTER,t); render();}; tc.appendChild(c);
  });
  // morphs (çƒ­é—¨)
  const mc=$("#morphChips"); mc.innerHTML='';
  const hot = ["bene","mal","dict","voc","vok","scrib","script","graph","gram","phon","spect","spic","vid","vis","mit","miss","port","duc","duct","fac","fact","fic","fect","tract","cred","cord","path","morph","sci","chron","bio","geo","therm","tele","scope","nov","nat","mort","ven","vent","gress","grad","anim"].filter(m=>ALL_MORPHS.includes(m));
  hot.forEach(m=>{
    const c=chip(m); c.onclick=()=>{toggleSet(MORPH_FILTER,m); render();}; mc.appendChild(c);
  });
}
fillChips();
function toggleSet(set, key){ set.has(key)? set.delete(key): set.add(key); }

$("#requireAll").onchange = e=>{REQUIRE_ALL=e.target.checked; render();}
$("#onlyRoots").onchange = e=>{ONLY_ROOTS=e.target.checked; render();}
$("#freq").oninput = e=>{FREQ_MIN=+e.target.value; $("#freqVal").textContent='â‰¥'+FREQ_MIN; render();}
$("#resetBtn").onclick = ()=>{
  LEVEL_FILTER.clear(); POS_FILTER.clear(); TOPIC_FILTER.clear(); MORPH_FILTER.clear();
  ONLY_ROOTS=false; REQUIRE_ALL=false; FREQ_MIN=1; QUERY='';
  $("#onlyRoots").checked=false; $("#requireAll").checked=false;
  $("#freq").value=1; $("#freqVal").textContent='â‰¥1';
  $("#q").value=''; $("#morphSearch").value='';
  render();
};

$("#q").addEventListener('input', debounce(e=>{ QUERY=e.target.value.trim(); render(); }, 150));
$("#clearBtn").onclick = ()=>{ $("#q").value=''; QUERY=''; render(); };
$("#morphSearch").addEventListener('keydown', e=>{
  if(e.key==='Enter'){
    const v=e.target.value.trim();
    if(v) { MORPH_FILTER.add(v.replace(/^-|-$|[^a-z]+/gi,'').toLowerCase()); e.target.value=''; render(); }
  }
});

$("#darkBtn").onclick = ()=>{ document.body.classList.toggle('dark'); localStorage.setItem('dark', document.body.classList.contains('dark')?'1':'0'); }
if(localStorage.getItem('dark')==='1') document.body.classList.add('dark');

/** Core filtering and searching **/
function searchAndFilter(){
  let arr = state.words.filter(w=>{
    if(w.frequency < FREQ_MIN) return false;
    if(LEVEL_FILTER.size && !w.level?.some(l=>LEVEL_FILTER.has(l))) return false;
    if(POS_FILTER.size && !POS_FILTER.has(w.pos.split(/[.,/ ]+/)[0])) return false;
    if(TOPIC_FILTER.size && !w.topics?.some(t=>TOPIC_FILTER.has(t))) return false;
    if(MORPH_FILTER.size){
      const morphs = (w.roots||[]).filter(r=>ONLY_ROOTS? r.t==='root': true).map(r=>r.m);
      if(REQUIRE_ALL){
        for(const m of MORPH_FILTER){ if(!morphs.includes(m)) return false; }
      }else{
        let ok=false; for(const m of MORPH_FILTER){ if(morphs.includes(m)){ok=true;break;} }
        if(!ok) return false;
      }
    }
    if(QUERY){
      const q = QUERY.toLowerCase();
      const hay = [
        w.word, w.meaning_zh, w.definition_en, w.pos, ...(w.level||[]), ...(w.topics||[]),
        ...((w.syn||[])), ...((w.ant||[])),
        ...((w.roots||[]).map(r=>r.m))
      ].join(' | ').toLowerCase();
      if(!fuzzyIncludes(hay,q)) return false;
    }
    return true;
  });
  return arr;
}
function fuzzyIncludes(text,q){
  if(text.includes(q)) return true;
  // loose: split q by spaces
  const parts = q.split(/\s+/).filter(Boolean);
  return parts.every(p=>text.includes(p));
}

/** Render grid **/
const grid = $("#grid");
function render(){
  const list = searchAndFilter();
  $("#count").textContent = list.length;
  grid.innerHTML='';
  list.forEach(w=>{
    const card = document.createElement('div');
    card.className='word-card';
    card.innerHTML = `
      <div class="word-head">
        <div class="word">${hlMorphemeInWord(w)}</div>
        <div class="tags">
          ${(w.level||[]).map(l=>`<span class="badge">${l}</span>`).join('')}
          <span class="pill">${w.pos}</span>
          <span class="pill">F${w.frequency}</span>
        </div>
      </div>
      <div class="mean">${escapeHtml(w.meaning_zh)}</div>
      <div class="morph">${(w.roots||[]).map(r=>morphTag(r)).join('')}</div>
    `;
    card.onclick = ()=>{ selectWord(w.word); };
    card.ondblclick = ()=>{ addToSrs(w.word); flash(card); };
    grid.appendChild(card);
  });
  if(list.length && !state.selected){ selectWord(list[0].word); }
  if(state.selected && !list.includes(state.selected)){
    if(list[0]) selectWord(list[0].word); else clearDetail();
  }
  // update chip active state
  syncActiveChips();
}
function flash(el){
  el.style.outline='2px solid var(--primary)';
  setTimeout(()=>el.style.outline='', 350);
}
function morphTag(r){
  const meta = MORPHEMES[r.m]||{type:r.t};
  const cls = r.t==='prefix'?'pre':(r.t==='suffix'?'suf':'root');
  const title = `${r.m} Â· ${meta.type||r.t} Â· ${meta.zh||''} ${meta.en?'/ '+meta.en:''}`;
  return `<span class="${cls}" title="${escapeHtml(title)}">${escapeHtml(r.m)}</span>`;
}
function hlMorphemeInWord(w){
  let text = w.word;
  // naive highlight: try to wrap first matched prefix/root/suffix
  const parts = (w.roots||[]).map(r=>r.m).sort((a,b)=>b.length-a.length); // longer first
  let html = escapeHtml(text);
  for(const m of parts){
    const idx = html.toLowerCase().indexOf(m.toLowerCase());
    if(idx>=0){
      const pre = html.slice(0, idx);
      const mid = html.slice(idx, idx+m.length);
      const suf = html.slice(idx+m.length);
      const t = MORPHEMES[m]?.type || 'root';
      const spanCls = t==='prefix'?'hlt-pre':(t==='suffix'?'hlt-suf':'hlt');
      html = `${pre}<span class="${spanCls}">${mid}</span>${suf}`;
    }
  }
  return html;
}
function syncActiveChips(){
  // levels
  $$("#levelChips .chip").forEach(c=>{
    c.classList.toggle('active', LEVEL_FILTER.has(c.textContent));
  });
  $$("#posChips .chip").forEach(c=>{
    c.classList.toggle('active', POS_FILTER.has(c.textContent));
  });
  $$("#topicChips .chip").forEach(c=>{
    c.classList.toggle('active', TOPIC_FILTER.has(c.textContent));
  });
  $$("#morphChips .chip").forEach(c=>{
    c.classList.toggle('active', MORPH_FILTER.has(c.textContent));
  });
}
render();

/** Detail panel **/
function selectWord(word){
  const w = state.idx.byWord.get(word.toLowerCase());
  state.selected = w;
  $("#dWord").innerHTML = hlMorphemeInWord(w);
  $("#dMorph").innerHTML = (w.roots||[]).map(r=>{
    const el = document.createElement('span');
    el.className = r.t==='prefix'?'pre':(r.t==='suffix'?'suf':'root');
    el.textContent = r.m;
    el.title = `${r.m} Â· ${(MORPHEMES[r.m]?.type||r.t)} Â· ${(MORPHEMES[r.m]?.zh||'')}`;
    el.style.cursor='pointer';
    el.onclick=()=>{ MORPH_FILTER.add(r.m); render(); };
    return el.outerHTML;
  }).join('');
  $("#dDef").textContent = w.definition_en || '';
  $("#dMean").textContent = w.meaning_zh || '';
  $("#dPos").textContent = w.pos || '';
  $("#dLevel").innerHTML = (w.level||[]).map(l=>`<span class="badge">${l}</span>`).join(' ');
  $("#dTopics").innerHTML = (w.topics||[]).map(t=>`<span class="pill">${t}</span>`).join(' ');
  $("#dFreq").innerHTML = 'F'+(w.frequency||1);
  $("#dExamples").innerHTML = (w.examples||[]).map(s=>`<li>${escapeHtml(s)}</li>`).join('') || '<li><small class="dim">æš‚æ— ä¾‹å¥</small></li>';
  // similar by shape
  const sim = similarWords(w.word, 10).filter(s=>s.word!==w.word);
  $("#dSimilar").innerHTML = sim.map(s=>`<span class="sim-item" title="ç¼–è¾‘è·ç¦»ï¼š${s.dist}">${escapeHtml(s.word)}</span>`).join('') || '<small class="dim">æ— </small>';
  $$("#dSimilar .sim-item").forEach(el=>{
    el.onclick=()=>selectWord(el.textContent);
  });
  // family by morphology
  const fam = familyWords(w);
  $("#dFamily").innerHTML = fam.map(x=>`<span class="fam-item">${escapeHtml(x.word)}</span>`).join('') || '<small class="dim">æ— </small>';
  $$("#dFamily .fam-item").forEach(el=>{
    el.onclick=()=>selectWord(el.textContent);
  });
  $("#dNotes").textContent = w.notes||'';
}
function clearDetail(){
  $("#dWord").textContent='é€‰æ‹©ä¸€ä¸ªå•è¯';
  $("#dMorph").innerHTML='';
  $("#dDef").textContent=''; $("#dMean").textContent='';
  $("#dPos").textContent=''; $("#dLevel").innerHTML=''; $("#dTopics").innerHTML=''; $("#dFreq").innerHTML='';
  $("#dExamples").innerHTML=''; $("#dSimilar").innerHTML=''; $("#dFamily").innerHTML='';
  $("#dNotes").textContent='';
}
$("#speakBtn").onclick = ()=>{
  if(!state.selected) return;
  const u = new SpeechSynthesisUtterance(state.selected.word);
  u.lang = 'en-US'; speechSynthesis.speak(u);
};
$("#starBtn").onclick = ()=>{
  if(!state.selected) return;
  addToSrs(state.selected.word);
  alert('å·²åŠ å…¥å¤ä¹ é˜Ÿåˆ—ï¼š'+state.selected.word);
};

/** Shape-similar words (Levenshtein) **/
function levenshtein(a,b){
  const m=a.length,n=b.length;
  const dp=Array.from({length:m+1},(_,i)=>Array(n+1).fill(0));
  for(let i=0;i<=m;i++)dp[i][0]=i;
  for(let j=0;j<=n;j++)dp[0][j]=j;
  for(let i=1;i<=m;i++){
    for(let j=1;j<=n;j++){
      const cost = a[i-1].toLowerCase()===b[j-1].toLowerCase()?0:1;
      dp[i][j] = Math.min(
        dp[i-1][j]+1,
        dp[i][j-1]+1,
        dp[i-1][j-1]+cost
      );
    }
  }
  return dp[m][n];
}
function similarWords(word, topN=10){
  const arr = state.words.map(w=>{
    const d = levenshtein(word, w.word);
    const n = Math.max(word.length, w.word.length);
    const score = 1 - d/n;
    return {word:w.word, dist:d, score};
  }).sort((a,b)=>a.dist-b.dist || b.score-a.score);
  return arr.slice(0, topN);
}
function familyWords(w){
  const keys = (w.roots||[]).map(r=>r.m);
  const set = new Set();
  for(const k of keys){
    const bucket = state.idx.byMorph.get(k);
    if(!bucket) continue;
    for(const x of bucket){ if(x.word!==w.word) set.add(x); }
  }
  return [...set].slice(0, 24);
}

/** Debounce **/
function debounce(fn, delay){ let t; return (...args)=>{ clearTimeout(t); t=setTimeout(()=>fn(...args),delay); }; }

/** Utils **/
function escapeHtml(s){ return (s??'').toString().replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m])); }

/** Import / Export **/
$("#importBtn").onclick = ()=> $("#fileInput").click();
$("#fileInput").onchange = async (e)=>{
  const file = e.target.files[0]; if(!file) return;
  const txt = await file.text();
  try{
    const data = JSON.parse(txt);
    if(!Array.isArray(data)) throw new Error('JSON é¡»ä¸ºæ•°ç»„');
    // Minimal field check
    data.forEach(x=>{
      if(!x.word) throw new Error('æ¯ä¸ªæ¡ç›®é¡»åŒ…å« word å­—æ®µ');
      x.level = x.level || ["GRE"];
      x.roots = x.roots || [];
      x.frequency = x.frequency || 3;
    });
    state.words = mergeWords(state.words, data);
    buildIndex(); $("#total").textContent = state.words.length; render();
    alert('å¯¼å…¥æˆåŠŸï¼Œå…± '+data.length+' æ¡ï¼›å½“å‰è¯åº“ '+state.words.length+' æ¡ã€‚');
  }catch(err){
    alert('å¯¼å…¥å¤±è´¥ï¼š'+err.message);
  }finally{
    e.target.value='';
  }
};
$("#exportBtn").onclick = ()=>{
  const blob = new Blob([JSON.stringify(state.words, null, 2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href=url; a.download='wordbank.json'; a.click();
  URL.revokeObjectURL(url);
};
function mergeWords(base, incoming){
  const map = new Map(base.map(w=>[w.word.toLowerCase(), w]));
  for(const w of incoming){
    const k = w.word.toLowerCase();
    if(map.has(k)){
      // shallow merge, keep arrays unique
      const old = map.get(k);
      map.set(k, {
        ...old, ...w,
        level: uniq([...(old.level||[]), ...(w.level||[])]),
        topics: uniq([...(old.topics||[]), ...(w.topics||[])]),
        syn: uniq([...(old.syn||[]), ...(w.syn||[])]),
        ant: uniq([...(old.ant||[]), ...(w.ant||[])]),
        roots: uniqMorph([...(old.roots||[]), ...(w.roots||[])]),
        examples: uniq([...(old.examples||[]), ...(w.examples||[])])
      });
    } else {
      map.set(k, w);
    }
  }
  return [...map.values()];
}
function uniq(arr){ return Array.from(new Set((arr||[]).filter(Boolean))); }
function uniqMorph(arr){
  const seen = new Set(); const out=[];
  for(const r of (arr||[])){
    const k = r.m+'|'+(r.t||'');
    if(!seen.has(k)){ out.push(r); seen.add(k); }
  }
  return out;
}

/** Scene sentence generation (æ¨¡æ¿å¼) **/
$("#genSceneBtn").onclick = ()=>{
  const list = searchAndFilter().slice(0, 6); // take some from current filter
  if(!list.length){ alert('è¯·å…ˆç­›é€‰ä¸€äº›å•è¯'); return;}
  const scene = generateScene(list);
  alert("åœºæ™¯å¥ï¼š\n\n"+scene.join("\n"));
};
function generateScene(words){
  // choose 3-5 words
  const pick = (n)=>words.slice(0,n);
  const W = pick(Math.min(5, Math.max(3, Math.floor(Math.random()*5)+1)));
  const w = name => W.find(x=>x.topics?.includes(name)) || W[Math.floor(Math.random()*W.length)];
  const t = (w)=>w.word;
  const lines = [];
  lines.push(`Campus: The professor tried to ${t(w('academic'))} the concept, but the ${t(w('psychology'))} freshmen looked ${'invisible'} to his jokes.`);
  lines.push(`Lab: We ${t(w('science'))}d data and ${t(w('tech'))}d devices to ${t(w('health'))} error rates.`);
  lines.push(`Debate: He ${t(w('law'))}d the policy; her ${t(w('morality'))} tone ${t(w('people'))} many.`);
  lines.push(`Business: A ${t(w('work'))} team must ${t(w('work'))} tasks and ${t(w('business'))} steadily towards goals.`);
  // If shortage of topics, fall back to definitions
  return lines.map(s=>s.replace(/\s+/g,' ').trim());
}

/** SRS (simplified SM-2) **/
const SRS_KEY = 'roots_srs_v1';
function loadSrs(){ try{ return JSON.parse(localStorage.getItem(SRS_KEY)||'{}'); }catch{ return {}; } }
function saveSrs(db){ localStorage.setItem(SRS_KEY, JSON.stringify(db)); }
function addToSrs(word){
  const db = loadSrs();
  if(!db[word]) db[word]={EF:2.5, interval:0, reps:0, due:Date.now()};
  saveSrs(db);
}
function getDueWordsFrom(list){
  const db = loadSrs(); const now=Date.now(); const arr=[];
  for(const w of list){
    const rec = db[w.word]||{due:0}; if(rec.due<=now) arr.push(w);
  }
  return arr;
}
$("#startSrsBtn").onclick = ()=>{
  const list = searchAndFilter();
  if(!list.length){ alert('å½“å‰æ— å¯å¤ä¹ å•è¯'); return; }
  state.srsQueue = getDueWordsFrom(list);
  if(!state.srsQueue.length){ alert('å½“å‰ç­›é€‰çš„è¯éƒ½ä¸åº”å¤ä¹ ï¼ˆå°šæœªåˆ°æœŸï¼‰ã€‚'); return;}
  $("#srsPanel").style.display='flex';
  nextSrs();
};
$("#srsClose").onclick = ()=>$("#srsPanel").style.display='none';
$("#srsShow").onclick = ()=>{
  $("#srsA").style.display='block';
};
$("#srsAgain").onclick = ()=>srsRate(0);
$("#srsHard").onclick = ()=>srsRate(3);
$("#srsGood").onclick = ()=>srsRate(4);
$("#srsEasy").onclick = ()=>srsRate(5);

let currentSrs = null;
function nextSrs(){
  if(!state.srsQueue.length){ $("#srsQ").textContent='ğŸ‰ ä»Šæ—¥å¤ä¹ å®Œæˆ'; $("#srsA").style.display='none'; $("#srsInfo").textContent=''; return; }
  currentSrs = state.srsQueue.shift();
  // Show definition, hide answer (word)
  $("#srsQ").textContent = (currentSrs.definition_en||'')+'  / '+(currentSrs.meaning_zh||'');
  $("#srsA").innerHTML = `<b>${hlMorphemeInWord(currentSrs)}</b><div class="mean">${escapeHtml(currentSrs.pos)} Â· ${(currentSrs.level||[]).join(', ')}</div>`;
  $("#srsA").style.display='none';
  $("#srsInfo").textContent = `å‰©ä½™ï¼š${state.srsQueue.length}`;
}
function srsRate(q){
  if(!currentSrs) return;
  const word = currentSrs.word;
  const db = loadSrs();
  const rec = db[word] || {EF:2.5, interval:0, reps:0, due:Date.now()};
  if(q<3){
    rec.reps = 0; rec.interval = 1; rec.due = Date.now() + 1*24*3600*1000;
  }else{
    rec.reps += 1;
    let EF = rec.EF + (0.1 - (5-q)*(0.08 + (5-q)*0.02));
    if(EF < 1.3) EF = 1.3;
    rec.EF = EF;
    if(rec.reps === 1) rec.interval = 1;
    else if(rec.reps === 2) rec.interval = 3;
    else rec.interval = Math.round(rec.interval * rec.EF);
    rec.due = Date.now() + rec.interval*24*3600*1000;
  }
  db[word] = rec; saveSrs(db);
  nextSrs();
}

/** Detail interactions: select from list **/
function selectFromResult(word){ selectWord(word); }

/** Load persisted theme **/
if(localStorage.getItem('dark')==='1'){ document.body.classList.add('dark'); }

/** Initialization done **/

</script>
</body>
</html>